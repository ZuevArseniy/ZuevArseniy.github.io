(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{152:function(t,e,n){var content=n(162);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("4144a651",content,!0,{sourceMap:!1})},153:function(t,e,n){var content=n(170);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("8e31a890",content,!0,{sourceMap:!1})},154:function(t,e,n){var content=n(172);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("64b1c3c7",content,!0,{sourceMap:!1})},155:function(t,e,n){var content=n(181);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("6759f5ab",content,!0,{sourceMap:!1})},156:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},160:function(t,e,n){t.exports=n.p+"img/3bc962f.png"},161:function(t,e,n){"use strict";var o=n(152);n.n(o).a},162:function(t,e,n){var o=n(41),r=n(156),l=n(163),c=n(164),d=n(165);e=o(!1);var h=r(l),f=r(c),v=r(d);e.push([t.i,"header[data-v-0d3e59b2]{background-image:url("+h+");background-size:100%;padding:20px 50px;height:100px;font-size:50px;box-sizing:content-box}header[data-v-0d3e59b2],header .left-block[data-v-0d3e59b2]{display:flex;align-items:center}header .left-block .logo[data-v-0d3e59b2]{height:100px;width:100px}header .left-block .title[data-v-0d3e59b2]{font-size:50px;margin-left:30px}header .dd-column[data-v-0d3e59b2]{margin-left:60px}header .dd-column label[data-v-0d3e59b2]{display:block;font-size:30px}header .dd-column select[data-v-0d3e59b2]{font-size:30px;height:40px}header .toggle[data-v-0d3e59b2]{background-image:url("+f+");height:100px;width:52px;cursor:pointer;background-size:52px;border-radius:4px;margin-left:auto}header .toggle.on[data-v-0d3e59b2]{background-image:url("+v+")}",""]),t.exports=e},163:function(t,e,n){t.exports=n.p+"img/7d433c5.jpg"},164:function(t,e,n){t.exports=n.p+"img/798370b.png"},165:function(t,e,n){t.exports=n.p+"img/4e26d12.png"},169:function(t,e,n){"use strict";var o=n(153);n.n(o).a},170:function(t,e,n){(e=n(41)(!1)).push([t.i,".knob[data-v-a85b4082]{text-align:center}.knob label[data-v-a85b4082]{display:inline-block;margin:5px 0 10px}",""]),t.exports=e},171:function(t,e,n){"use strict";var o=n(154);n.n(o).a},172:function(t,e,n){(e=n(41)(!1)).push([t.i,".led.on[data-v-2db91ba0]{background-color:red}",""]),t.exports=e},180:function(t,e,n){"use strict";var o=n(155);n.n(o).a},181:function(t,e,n){var o=n(41),r=n(156),l=n(182),c=n(183),d=n(184);e=o(!1);var h=r(l),f=r(c),v=r(d);e.push([t.i,"@font-face{font-family:Moyko;src:url("+h+') format("truetype")}body{background-color:#ede9e1;font-family:Moyko;letter-spacing:3px}.container{min-height:calc(100vh - 100px);display:flex;flex-wrap:wrap}.pedal{width:186px;height:320px;padding:15px;border-radius:10px;margin:30px;display:flex;color:#fff;flex-direction:column;position:relative;box-sizing:content-box}.pedal:after{left:-10px}.pedal:after,.pedal:before{background-color:#9d9c9c;position:absolute;top:141px;height:40px;width:10px;content:"";z-index:-9}.pedal:before{right:-10px}.controls{height:130px;display:flex;justify-content:center}.title-top{font-size:30px}.button-row,.title-top{text-align:center}.button-row button{height:40px;width:40px;border-radius:20px;cursor:pointer;margin:0 auto;border:4px solid #d3d3d3;background-color:#ede9e1;outline:none}.led-row{text-align:center;margin:8px 0}.knob{padding:10px;width:77px;background-image:url('+f+");height:75px;background-size:98px;box-sizing:content-box}.rotary{background-image:url("+v+");height:75px;width:75px;margin-top:4px;background-size:75px}.led{display:inline-block;height:15px;border-radius:10px;width:15px;background-color:#ea7c7c;border:2px solid #000}.led.on{background-color:red}.title-bottom{text-align:center;font-size:25px;margin-top:15px}.overdrive{background-color:#562237}.compressor{background-color:#c6233e}.reverb{background-color:#d98f0d}.amp{background-color:#5d7e4e}",""]),t.exports=e},182:function(t,e,n){t.exports=n.p+"fonts/435890c.ttf"},183:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBB4OAAl3BeD2AAABEklEQVR42u3WTy4EQRQH4OkVMtqMm84BRBzBDdyAuQE727kBO4kNW4SnWpDYvqroTvr79r+qV39epRYLAKjRjV3AcTHrArqhgPWsj6Cbwg4owDuwcAe8hLO+A6M/xesJ/EkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+wWM+etli/r14yEZPY9OggFXELpfsI54bFHAVEdtMcFmCrw0KKMPkFrIakvXzH0bNDsRNiyuQXUd67/54KqO85KIXJfpRO//+sIz7XPZoyJ61OIFN9gVpcAbXZYz3bPiuhN/GasJGjdinm/C3EXdjNWGbRjzIN+FPI57XncEy3YTfjbitfQj6qltUeQO+nNSEb/3nAGD6PgHYMIchjgmkRQAAAABJRU5ErkJggg=="},184:function(t,e,n){t.exports=n.p+"img/5012844.png"},185:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left-block"},[e("img",{staticClass:"logo",attrs:{src:n(160)}}),this._v(" "),e("span",{staticClass:"title"},[this._v("PJAMP")])])}],r=(n(32),n(5)),l=new AudioContext;l.suspend();var c=l,d={name:"Header",props:["ctx1"],data:function(){return{turnedOn:!1,sampleBuffer:null,source:null,inputStream:null,inputSource:null,sampleSource:null}},mounted:function(){var t=this;fetch("/audio/demo.mp3").then((function(t){return t.arrayBuffer()})).then((function(t){return c.decodeAudioData(t)})).then((function(e){t.sampleBuffer=e})).then(this.selectSource)},methods:{toggle:function(){this.turnedOn=!this.turnedOn,this.turnedOn?c.resume():c.suspend()},selectSource:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var source;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||"mic"!==t.target.value){n.next=9;break}if(e.inputStream){n.next=6;break}return n.next=4,navigator.mediaDevices.getUserMedia({audio:{mandatory:{echoCancellation:!1}},video:!1});case 4:e.inputStream=n.sent,e.inputSource=(input=c.createMediaStreamSource(e.inputStream),o=void 0,r=void 0,o=c.createChannelSplitter(2),r=c.createChannelMerger(2),input.connect(o),o.connect(r,0,0),o.connect(r,0,1),r);case 6:source=e.inputSource,n.next=11;break;case 9:e.sampleSource||(e.sampleSource=c.createBufferSource(),e.sampleSource.buffer=e.sampleBuffer,e.sampleSource.loop=!0,e.sampleSource.start()),source=e.sampleSource;case 11:e.$emit("source",source);case 12:case"end":return n.stop()}var input,o,r}),n)})))()}}},h=(n(161),n(19)),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[t._m(0),t._v(" "),n("div",{staticClass:"dd-column"},[n("label",[t._v("Source")]),t._v(" "),n("select",{on:{change:function(e){return t.selectSource(e)}}},[n("option",{attrs:{value:"samples"}},[t._v("samples")]),t._v(" "),n("option",{attrs:{value:"mic"}},[t._v("audio input")])])]),t._v(" "),n("div",{staticClass:"toggle",class:{on:t.turnedOn},on:{click:t.toggle}})])}),o,!1,null,"0d3e59b2",null).exports,v=(n(166),{name:"Knob",props:{min:{type:Number,default:0},max:{type:Number,default:100},label:{type:String,default:"label"},defaultValue:{type:Number}},computed:{value:function(){return this.min+Math.abs(this.max-this.min)*this.rotatePercent},rotatePercent:function(){return Math.abs(this.rotatedDeg-this.minDeg)/this.degRange},degRange:function(){return Math.abs(this.maxDeg-this.minDeg)}},data:function(){return{minDeg:-150,maxDeg:150,rotatedDeg:0,diff:0,prevY:null,engaged:!1}},methods:{engage:function(t){this.engaged=!0,this.prevY=t.clientY,t.preventDefault()},disengage:function(t){this.engaged&&(this.rotatedDeg=this.diff,this.diff=0,this.$emit("change",this.value),this.engaged=!1)},rotaryMove:function(t){if(this.engaged){if(this.prevY-t==0)return;var e=this.prevY>=t,n=Math.abs(this.prevY-t);e?((n+=this.rotatedDeg)>this.maxDeg&&(n=this.maxDeg),this.$refs.rotary.style="transform: rotate("+n+"deg)"):((n=this.rotatedDeg-n)<this.minDeg&&(n=this.minDeg),this.$refs.rotary.style="transform: rotate("+n+"deg)"),this.diff=n}},rotateDegByValue:function(t){return t/Math.abs(this.max-this.min)*Math.abs(this.maxDeg-this.minDeg)+this.minDeg}},watch:{defaultValue:function(t,e){this.rotatedDeg=this.rotateDegByValue(t),this.$refs.rotary.style="transform: rotate("+this.rotatedDeg+"deg)",this.$emit("change",this.value)}},mounted:function(){var t=this;window.addEventListener("mouseup",this.disengage),window.addEventListener("mousemove",(function(e){t.rotaryMove(e.clientY)})),this.defaultValue&&(this.rotatedDeg=this.rotateDegByValue(this.defaultValue),this.$refs.rotary.style="transform: rotate("+this.rotatedDeg+"deg)",console.log(this.value)),this.$emit("change",this.value)}}),m=(n(169),Object(h.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"knob",staticClass:"knob"},[e("div",{ref:"rotary",staticClass:"rotary",on:{mousedown:this.engage}}),this._v(" "),e("label",[this._v(this._s(this.label))])])}),[],!1,null,"a85b4082",null).exports),A={name:"Toggle",props:["turnedOn"],methods:{toggle:function(){this.$emit("toggle")}}},x=(n(171),Object(h.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"led-row"},[e("span",{staticClass:"led",class:{on:this.turnedOn}})]),this._v(" "),e("div",{staticClass:"button-row"},[e("button",{on:{click:this.toggle}})])])}),[],!1,null,"2db91ba0",null).exports),O={components:{Toggle:x,Knob:m},name:"Cabinet",props:["input"],mounted:function(){var t=this;fetch("/audio/impulse.wav").then((function(t){return t.arrayBuffer()})).then((function(e){c.decodeAudioData(e,(function(e){t.impulse=e})).catch((function(t){return console.error(t)}))}))},data:function(){return{inNode:null,outNode:null,impulse:null,turnedOn:!1,volume:2}},watch:{input:function(t,e){null!==t&&t!==e&&(null!==e&&this.turnedOn&&e.disconnect(this.inNode),this.init())}},methods:{build:function(){this.inNode||this.outNode||(this.inNode=c.createConvolver(),this.outNode=c.createGain(),this.outNode.gain.value=this.volume,this.inNode.buffer=this.impulse),this.inNode.connect(this.outNode)},setVolume:function(t){this.volume=t,this.outNode&&(this.outNode.gain.value=t)},turnOn:function(){this.build(),this.input.connect(this.inNode),this.$emit("output",this.outNode)},turnOff:function(){this.input.disconnect(this.inNode),this.$emit("output",this.input)},toggle:function(){this.turnedOn=!this.turnedOn,this.init()},init:function(){this.turnedOn?this.turnOn():this.turnOff()}}},N=Object(h.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pedal amp"},[n("div",{staticClass:"controls"},[n("Knob",{attrs:{min:0,max:7,label:"volume","default-value":4},on:{change:t.setVolume}})],1),t._v(" "),n("div",{staticClass:"title-top"},[t._v("PJAMP")]),t._v(" "),n("Toggle",{attrs:{"turned-on":t.turnedOn},on:{toggle:t.toggle}}),t._v(" "),n("div",{staticClass:"title-bottom"},[t._v("\n        Origami Cabinet\n    ")])],1)}),[],!1,null,"a1f8af80",null).exports,_=(n(173),{name:"Overdrive",props:["input"],components:{Toggle:x,Knob:m},data:function(){return{overdriveInNode:null,overdriveOutNode:null,effect:null,volume:null,turnedOn:!1}},watch:{input:function(t,e){null!==t&&t!==e&&(null!==e&&this.turnedOn&&e.disconnect(this.overdriveInNode),this.init())}},methods:{setEffect:function(t){this.effect=t,this.overdriveInNode&&(this.overdriveInNode.curve=this.makeDistortionCurve(t))},setVolume:function(t){this.volume=t,this.overdriveOutNode&&(this.overdriveOutNode.gain.value=t)},makeOverdrive:function(){if(!this.overdriveInNode&&!this.overdriveOutNode){var t=c.createGain(),e=c.createWaveShaper();t.gain.value=this.volume,e.curve=this.makeDistortionCurve(this.effect),this.overdriveInNode=e,this.overdriveOutNode=t,this.overdriveInNode.connect(this.overdriveOutNode)}},makeDistortionCurve:function(t){for(var e,n="number"==typeof t?t:50,o=new Float32Array(44100),r=Math.PI/180,i=0;i<44100;++i)e=2*i/44100-1,o[i]=(3+n)*e*20*r/(Math.PI+n*Math.abs(e));return o},turnOn:function(){this.makeOverdrive(),this.input.connect(this.overdriveInNode),this.$emit("output",this.overdriveOutNode)},turnOff:function(){this.input.disconnect(this.overdriveInNode),this.$emit("output",this.input)},toggle:function(){this.turnedOn=!this.turnedOn,this.init()},init:function(){this.turnedOn?this.turnOn():this.turnOff()}}}),k=Object(h.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pedal overdrive"},[n("div",{staticClass:"controls"},[n("Knob",{attrs:{min:0,max:400,label:"effect","default-value":150},on:{change:t.setEffect}}),t._v(" "),n("knob",{attrs:{min:0,max:1,label:"volume","default-value":.5},on:{change:t.setVolume}})],1),t._v(" "),n("div",{staticClass:"title-top"},[t._v("PJAMP")]),t._v(" "),n("Toggle",{attrs:{"turned-on":t.turnedOn},on:{toggle:t.toggle}}),t._v(" "),n("div",{staticClass:"title-bottom"},[t._v("\n        Sacura Overdrive\n    ")])],1)}),[],!1,null,"4d040064",null).exports,y={name:"Reverb",components:{Knob:m,Toggle:x},props:["input"],mounted:function(){var t=this;fetch("/audio/greek_rev.wav").then((function(t){return t.arrayBuffer()})).then((function(e){c.decodeAudioData(e,(function(e){t.impulse=e})).catch((function(t){return console.error(t)}))}))},data:function(){return{inNode:null,convNode:null,outNode:null,dryNode:null,convVolume:null,mix:null,wetNode:null,impulse:null,turnedOn:!1}},watch:{input:function(t,e){null!==t&&t!==e&&(null!==e&&this.turnedOn&&e.disconnect(this.inNode),this.init())}},methods:{setMix:function(t){this.mix=t,console.log(this.mix),this.dryNode&&this.wetNode&&(this.wetNode.gain.value=t,this.dryNode.gain.value=1-t)},build:function(){this.inNode||this.outNode||(this.inNode=c.createGain(),this.outNode=c.createGain(),this.convNode=c.createConvolver(),this.convVolume=c.createGain(),this.convVolume.gain.value=3,this.dryNode=c.createGain(),this.wetNode=c.createGain(),this.wetNode.gain.value=this.mix,this.dryNode.gain.value=1-this.mix,this.convNode.buffer=this.impulse),this.inNode.connect(this.dryNode).connect(this.outNode),this.inNode.connect(this.convNode).connect(this.convVolume).connect(this.wetNode).connect(this.outNode)},turnOn:function(){this.build(),this.input.connect(this.inNode),this.$emit("output",this.outNode)},turnOff:function(){this.input.disconnect(this.inNode),this.$emit("output",this.input)},toggle:function(){this.turnedOn=!this.turnedOn,this.init()},init:function(){this.turnedOn?this.turnOn():this.turnOff()}}},C=Object(h.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pedal reverb"},[n("div",{staticClass:"controls"},[n("Knob",{attrs:{min:0,max:1,label:"mix","default-value":.3},on:{change:t.setMix}})],1),t._v(" "),n("div",{staticClass:"title-top"},[t._v("PJAMP")]),t._v(" "),n("Toggle",{attrs:{"turned-on":t.turnedOn},on:{toggle:t.toggle}}),t._v(" "),n("div",{staticClass:"title-bottom"},[t._v("\n        Chashitsu Reverb\n    ")])],1)}),[],!1,null,"c6dfe4aa",null).exports,w={name:"Compressor",components:{Knob:m}},M={name:"Pedalboard",props:["input"],components:{Compressor:Object(h.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pedal compressor"},[n("div",{staticClass:"controls"},[n("Knob"),t._v(" "),n("Knob")],1),t._v(" "),n("div",{staticClass:"title-top"},[t._v("PJAMP")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"title-bottom"},[t._v("\n        Geisha Compressor\n    ")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"led-row"},[e("span",{staticClass:"led"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-row"},[e("button")])}],!1,null,"06e0b709",null).exports,Reverb:C,Overdrive:k,Cabinet:N},data:function(){return{cabinetInput:null,reverbInput:null}},watch:{input:function(t){}},methods:{onCabinetOutput:function(t){this.$emit("output",t)},onReverbOutput:function(t){this.cabinetInput=t},onOverdriveOutput:function(t){this.reverbInput=t}}},D={name:"Amp",components:{Header:f,Pedalboard:Object(h.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("Overdrive",{attrs:{input:this.input},on:{output:this.onOverdriveOutput}}),this._v(" "),e("Compressor"),this._v(" "),e("Reverb",{attrs:{input:this.reverbInput},on:{output:this.onReverbOutput}}),this._v(" "),e("Cabinet",{attrs:{input:this.cabinetInput},on:{output:this.onCabinetOutput}})],1)}),[],!1,null,"84f12680",null).exports},data:function(){return{source:null,output:null}},methods:{onSetSource:function(source){this.source=source},onSetOutput:function(t){this.output&&this.output.disconnect(c.destination),this.output=t,t.connect(c.destination)}}},S={components:{Amp:Object(h.a)(D,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Header",{on:{source:this.onSetSource}}),this._v(" "),e("Pedalboard",{attrs:{input:this.source},on:{output:this.onSetOutput}})],1)}),[],!1,null,"76ae033e",null).exports}},E=(n(180),Object(h.a)(S,(function(){var t=this.$createElement;return(this._self._c||t)("Amp")}),[],!1,null,null,null));e.default=E.exports}}]);