(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],h=0,d=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={app:0},s=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/amp/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0158":function(t,e,i){t.exports=i.p+"img/boss-bottom-bg.d36a6847.png"},"01a4":function(t,e,i){t.exports=i.p+"img/boss.e0bdce96.png"},"0234":function(t,e,i){},"0734":function(t,e,i){t.exports=i.p+"img/pedalboard.8751b5dd.png"},"082a":function(t,e,i){t.exports=i.p+"img/toggle-on.4e26d12f.png"},"0b3f":function(t,e,i){t.exports=i.p+"img/knob.b3547cef.png"},"0bb0":function(t,e,i){t.exports=i.p+"img/switch.c7e58689.png"},"0dba":function(t,e,i){},1380:function(t,e,i){t.exports=i.p+"img/boss_small1.488eb0fe.png"},"225f":function(t,e,i){t.exports=i.p+"img/Big_Knob.c33a6d8a.png"},3592:function(t,e,i){"use strict";i("d5dc")},"3dce":function(t,e,i){},"3e00":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAeCAYAAACPOlitAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7dlBTsJAFMbxN6PWhBDxCOjCuPQm6g3kBh4BboA3kBvg2o1eQIl1ocY0EyMumy6aJm2aeU7HgFSLby18v81MoBD4p+1MUrW3f8C0oN1u+7HT2fHjdPpRe31mVd9P07R2nCb4EwIJEEiAQAIEEiCQAIEECCRAIAECCRBIgEACBBIgkACBBAgkQCABAgk0kzIEyyRasTUEjZh5olmpW4JmSl9pssWQoJnNx9oYk7hz6YagRhFdujbGr2LMGz03JAQzibXFoJr4QMY8GSY7IPDcyj6ozp5qPt8Hmeh16B6xrn2kqoGJnuf35dpG0UQvfXe9jap5lmW0blycC99gwa+ddBjenxHb0zhORnEcf3+YmVaF1l9/uyxLP3K1SLHtPT7cnf88drPpC8JwMnbDuNs97JNWJ24zeZznxVGwHexqpeg/U+73t1qt92AreCvy4prdNsev5Et8Aqw/kx+Xl2BcAAAAAElFTkSuQmCC"},"409d":function(t,e,i){"use strict";i("755f")},"421b":function(t,e,i){t.exports=i.p+"img/input.38312de4.png"},"43ae":function(t,e,i){},4417:function(t,e,i){"use strict";i("0dba")},"49e0":function(t,e,i){t.exports=i.p+"img/grill-grey.6c7bb706.png"},"4ffd":function(t,e,i){t.exports=i.p+"img/logo.3bc962f4.png"},5107:function(t,e,i){t.exports=i.p+"img/marshall.5114e5c2.png"},"54e3":function(t,e,i){"use strict";i("c414")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23"),o=i("421b"),s=i.n(o),a={class:"left-block"},r=Object(n["g"])("label",{class:"input-label",for:""},"input",-1);function l(t,e,i,o,l,c){var u=Object(n["l"])("Modal"),h=Object(n["l"])("Stack");return Object(n["h"])(),Object(n["c"])("div",null,[Object(n["g"])(h,{input:l.input,glowSwitch:l.glowSwitch},{default:Object(n["o"])((function(){return[Object(n["g"])("div",a,[Object(n["g"])("img",{class:["logo",{attract:l.glowInput}],src:s.a,onClick:e[1]||(e[1]=function(t){l.showModal=!0,l.glowInput=!1})},null,2),r,l.showModal?(Object(n["h"])(),Object(n["c"])(u,{key:0,value:l.source,onSelect:c.selectSource},null,8,["value","onSelect"])):Object(n["d"])("",!0)])]})),_:1},8,["input","glowSwitch"])])}var c=i("1da1");i("96cf"),i("d3b7");function u(t,e,i,o,s,a){var r=Object(n["l"])("Amp"),l=Object(n["l"])("Pedalboard");return Object(n["h"])(),Object(n["c"])("div",null,[Object(n["g"])(r,{input:s.pedalboardOut,output:s.ampOut,glowSwitch:i.glowSwitch},{default:Object(n["o"])((function(){return[Object(n["k"])(t.$slots,"default")]})),_:3},8,["input","output","glowSwitch"]),Object(n["g"])(l,{input:i.input,output:s.pedalboardOut},null,8,["input","output"])])}var h={class:"controls"},d={class:"control"},p={class:"control"},g={class:"control"},f={class:"control"},b={class:"control"},v={class:"control"},m={class:"control"},A={class:"control"};function w(t,e,i,o,s,a){var r=Object(n["l"])("PolyKnob");return Object(n["h"])(),Object(n["c"])("header",null,[Object(n["k"])(t.$slots,"default"),Object(n["g"])("div",h,[Object(n["g"])("div",d,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialVolume,onChange:a.updateVolume,min:"0",max:"5",step:"0.1",label:"volume",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",p,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialGain,onChange:a.updateGain,min:"0",max:"500",label:"gain",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",g,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialBass,min:"-20",max:"20",onChange:a.updateBass,label:"bass",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",f,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialMid,min:"-20",max:"20",onChange:a.updateMid,label:"mid",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",b,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialTreble,min:"-20",max:"20",onChange:a.updateTreble,label:"high",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",v,[Object(n["g"])(r,{type:"marshall",label:"reverb",min:"0",max:"1",step:"0.01",onChange:a.updateReverb,defaultValue:a.initialReverb,width:"100",height:"100"},null,8,["onChange","defaultValue"])]),Object(n["g"])("div",m,[Object(n["g"])(r,{type:"marshall",defaultValue:a.initialPresence,onChange:a.updatePresence,min:"-10",max:"10",label:"presence",width:"100",height:"100"},null,8,["defaultValue","onChange"])]),Object(n["g"])("div",A,[Object(n["g"])(r,{type:"marshall",defaultValue:1,onChange:a.updateWet,min:"0",max:"1",step:"0.01",label:"dry/wet",width:"100",height:"100"},null,8,["onChange"])])]),Object(n["g"])("div",{class:["toggle",{on:s.turnedOn,attract:i.glowSwitch&&s.neverTunrnedOn}],onClick:e[1]||(e[1]=function(){return a.toggle&&a.toggle.apply(a,arguments)})},null,2)])}i("a9e3");var y=new AudioContext;y.suspend();var k=y;i("cfc3"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7");function x(t,e,i,n,o){return n+(t-e)/(i-e)*(o-n)}function _(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function O(t){return 0===t?1:Math.abs(t)/t}function C(){var t={};function e(){t.standard=function(t){var e=t,n=i(e);return n},t.standardLower=function(t){var e=t,i=n(e);return i},t.smooth=function(t){var e=new Float32Array(44100),i=t/1500;return o(i,44100,e),e},t.fuzz=function(t){var e=new Float32Array(44100),i=t/1500;return s(i,44100,e),e},t.clean=function(t){var e=new Float32Array(44100),i=t/1500;return a(i,44100,e),e},t.asymetric=function(t){var e=new Float32Array(44100),i=t/1500;return r(i,44100,e),e},t.bezier=function(){var t=v();return t},t.notSoDistorded=function(t){var e=t/150,i=l(e);return i},t.crunch=function(t){var e=t/150,i=c(e);return i},t.ClassA=function(t){var e=t/150,i=u(e);return i},t.superClean=function(t){var e=t/150,i=h(e);return i},t.vertical=function(t){var e=t/150,i=d(e);return i},t.superFuzz=function(t){var e=t/150,i=p(e);return i},t.NoisyHiGain=function(t){var e=t/10,i=g(e);return i},t.HiGainModern=function(t){var e=t/2,i=f(e);return i}}function i(t){for(var e,i=44100,n=new Float32Array(i),o=Math.PI/180,s=0;s<i;++s)e=2*s/i-1,n[s]=(3+t)*e*57*o/(Math.PI+t*Math.abs(e));return n}function n(t){for(var e,i=44100,n=new Float32Array(i),o=Math.PI/180,s=0;s<i;++s)e=2*s/i-1,n[s]=(3+t)*e*20*o/(Math.PI+t*Math.abs(e));return n}function o(t,e,i){t=Math.min(t,.9);var n,o,s=2*t/(1-t);for(n=0;n<e;n++)o=2*n/e-1,i[n]=(1+s)*o/(1+s*Math.abs(o))}function s(t,e,i){var n,o,s,a=1-t;for(n=0;n<e;n++)o=2*n/e-1,s=o<0?-Math.pow(Math.abs(o),a+.04):Math.pow(o,a),i[n]=_(2*s)}function a(t,e,i){var n,o,s,a,r=1-t>.99?.99:1-t;for(n=0;n<e;n++)o=2*n/e-1,a=Math.abs(o),a<r?s=a:a>r?s=r+(a-r)/(1+Math.pow((a-r)/(1-r),2)):a>1&&(s=a),i[n]=O(o)*s*(1/((r+1)/2))}function r(t,e,i){var n,o;for(n=0;n<e;n++)o=2*n/e-1,i[n]=o<-.08905?-3/4*(1-Math.pow(1-(Math.abs(o)-.032857),12)+1/3*(Math.abs(o)-.032847))+.01:o>=-.08905&&o<.320018?o*o*-6.153+3.9375*o:.630035}function l(t){t=Math.pow(t+2,3);for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function c(t){t=Math.pow(t,2);for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function u(t){var e=new Float32Array(22050);t=10+3*t;for(var i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function h(t){t=(t+6)/4;for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function d(t){t=Math.pow(t+2,3);for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function p(t){t=Math.pow(t,3);for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=(1+t)*n/(1+t*Math.abs(n))}return e}function g(t){t/=153;for(var e=new Float32Array(22050),i=0;22050>i;i+=1)e[i]=(0>2*i/22050-1?-1:1)*t;return e}function f(t){t=1/(1+Math.pow(t,4));for(var e=new Float32Array(22050),i=0;22050>i;i+=1){var n=2*i/22050-1;e[i]=n/(Math.abs(n)+t)}return e}function b(t,e,i,n,o){var s=3*(i.x-e.x),a=3*(n.x-i.x)-s,r=o.x-e.x-s-a,l=3*(i.y-e.y),c=3*(n.y-i.y)-l,u=o.y-e.y-l-c,h=r*Math.pow(t,3)+a*Math.pow(t,2)+s*t+e.x,d=u*Math.pow(t,3)+c*Math.pow(t,2)+l*t+e.y;return{x:h,y:d}}function v(){var t={x:0,y:100},e={x:10,y:50},i={x:0,y:50},n={x:100,y:0},o=44100,s=1/o,a=new Float32Array(o),r=0;a[r++]=x(t.y,0,100,1,-1);for(var l=0;l<1;l+=s){var c=b(l,t,e,i,n);a[r++]=x(c.y,0,100,1,-1)}return a}return e(),{buildDistorsionFactories:e,distorsionCurves:t}}var j=C(),M=Object(n["q"])("data-v-051dc834");Object(n["j"])("data-v-051dc834");var E={class:"knob"},S={key:0},I={key:1};Object(n["i"])();var L=M((function(t,e,i,o,s,a){var r=Object(n["l"])("webaudio-knob");return Object(n["h"])(),Object(n["c"])("div",E,[i.reversed?(Object(n["h"])(),Object(n["c"])("label",S,Object(n["m"])(i.label),1)):Object(n["d"])("",!0),Object(n["g"])(r,{class:"knob-control",min:i.min,src:a.sprite,max:i.max,step:.01,width:i.width,value:i.defaultValue,height:i.height,onInput:a.onInput},null,8,["min","src","max","step","width","value","height","onInput"]),i.reversed?Object(n["d"])("",!0):(Object(n["h"])(),Object(n["c"])("label",I,Object(n["m"])(i.label),1))])})),B=(i("f930"),{props:{min:{type:Number,default:0},max:{type:Number,default:100},label:{type:String,default:"label"},type:{type:String,default:"boss"},width:{type:Number,default:75},height:{type:Number,default:75},defaultValue:{type:Number},reversed:{type:Boolean,default:!1}},computed:{sprite:function(){return i("b967")("./".concat(this.type,".png"))}},methods:{onInput:function(t){this.$emit("change",t.target.value)}}});i("409d");B.render=L,B.__scopeId="data-v-051dc834";var W=B,N=2,T=0,V=0,P=0,q=5,G=50,F=.4,R={components:{PolyKnob:W},computed:{initialGain:function(){return G},initialVolume:function(){return N},initialBass:function(){return T},initialTreble:function(){return P},initialMid:function(){return V},initialPresence:function(){return q},initialReverb:function(){return F}},props:{input:{type:AudioNode,requied:!0},output:{type:AudioNode,requied:!0},glowSwitch:{type:Boolean}},data:function(){var t=!1,e=k.createConvolver(),i=[],n=k.createGain(),o={dry:k.createGain(),wet:k.createGain(),mix:k.createGain(),convolver:k.createConvolver()};o.wet.gain.value=F,o.dry.gain.value=1-F,n.gain.value=N;var s=k.createGain(),a=k.createGain();s.gain.value=0;var r=k.createBiquadFilter();r.type="lowshelf",r.frequency.value=720,r.gain.value=-6;var l=k.createBiquadFilter();l.type="lowshelf",l.frequency.value=320,l.gain.value=-5,i[0]=k.createWaveShaper(),i[0].curve=j.distorsionCurves["asymetric"](G);var c=k.createBiquadFilter();c.type="highpass",c.frequency.value=6,c.Q.value=.7071;var u=k.createBiquadFilter();u.type="lowshelf",u.frequency.value=720,u.gain.value=-6,i[1]=k.createWaveShaper(),i[1].curve=j.distorsionCurves["standard"](G);var h=k.createBiquadFilter();h.frequency.value=100,h.type="lowshelf",h.Q.value=.7071,h.gain.value=T;var d=k.createBiquadFilter();d.frequency.value=1700,d.type="peaking",d.Q.value=.7071,d.gain.value=V;var p=k.createBiquadFilter();p.frequency.value=6500,p.type="highshelf",p.Q.value=.7071,p.gain.value=P;var g=k.createBiquadFilter();g.frequency.value=3900,g.type="peaking",g.Q.value=.7071,g.gain.value=q;var f=k.createBiquadFilter();f.frequency.value=1e4,f.type="peaking",f.gain.value=-25;var b=k.createBiquadFilter();return b.frequency.value=60,b.type="peaking",b.gain.value=-19,this.input.connect(s),this.input.connect(n),n.connect(r),r.connect(l),l.connect(i[0]),i[0].connect(c),c.connect(u),u.connect(i[1]),i[1].connect(p),p.connect(h),h.connect(d),d.connect(g),g.connect(b),b.connect(f),f.connect(e),e.connect(o.wet),e.connect(o.dry),o.wet.connect(o.convolver),o.convolver.connect(o.mix),o.dry.connect(o.mix),o.mix.connect(a),s.connect(this.output),a.connect(this.output),{od:i,turnedOn:!1,cabinetConvolner:e,bassFilter:h,midFilter:d,trebleFilter:p,presenceFilter:g,volume:n,reverb:o,showModal:t,dry:s,wet:a,neverTunrnedOn:!0}},created:function(){var t=this;fetch("audio/impulse.wav").then((function(t){return t.arrayBuffer()})).then((function(t){return k.decodeAudioData(t)})).then((function(e){return t.cabinetConvolner.buffer=e})),fetch("audio/reverb.wav").then((function(t){return t.arrayBuffer()})).then((function(t){return k.decodeAudioData(t)})).then((function(e){return t.reverb.convolver.buffer=e}))},methods:{toggle:function(){this.neverTunrnedOn=!1,k.resume(),this.turnedOn=!this.turnedOn,this.input.gain.setValueAtTime(Number(this.turnedOn),k.currentTime)},updateVolume:function(t){this.volume.gain.value=t},updateGain:function(t){this.od[0].curve=j.distorsionCurves["asymetric"](t),this.od[1].curve=j.distorsionCurves["standard"](t)},updatePresence:function(t){this.presenceFilter.gain.value=t},updateBass:function(t){this.bassFilter.gain.value=t},updateMid:function(t){this.midFilter.gain.value=t},updateTreble:function(t){this.trebleFilter.gain.value=t},updateReverb:function(t){this.reverb.wet.gain.value=t,this.reverb.dry.gain.value=1-t},updateWet:function(t){this.wet.gain.value=t,this.dry.gain.value=1-t}}};i("4417");R.render=w;var D=R,Q=Object(n["q"])("data-v-2d7318ee");Object(n["j"])("data-v-2d7318ee");var U={class:"container"};Object(n["i"])();var K=Q((function(t,e,i,o,s,a){var r=Object(n["l"])("Overdrive"),l=Object(n["l"])("Distortion"),c=Object(n["l"])("Tremolo"),u=Object(n["l"])("Autowah");return Object(n["h"])(),Object(n["c"])("div",U,[Object(n["g"])(r,{input:t.input,output:s.OdDsWire},null,8,["input","output"]),Object(n["g"])(l,{input:s.OdDsWire,output:s.DsTrWire},null,8,["input","output"]),Object(n["g"])(c,{input:s.DsTrWire,output:s.TrAwWire},null,8,["input","output"]),Object(n["g"])(u,{input:s.TrAwWire,output:t.output},null,8,["input","output"])])})),J=i("5530"),z={class:"pedal-controls"},Y={class:"pedal-controls-row"};function X(t,e,i,o,s,a){var r=Object(n["l"])("PolyKnob"),l=Object(n["l"])("StompBoss");return Object(n["h"])(),Object(n["c"])(l,{label:"OverDrive",model:"OD-3",class:"overdrive","input-outer":t.input,"output-outer":t.output,"input-inner":s.inNode,"output-inner":s.outNode},{default:Object(n["o"])((function(){return[Object(n["g"])("div",z,[Object(n["g"])("div",Y,[Object(n["g"])(r,{min:0,max:2,onChange:a.setVolume,"default-value":1,type:"good_boss",label:"Level"},null,8,["onChange"]),Object(n["g"])(r,{min:0,max:1500,label:"Drive",type:"good_boss",onChange:a.setDist,"default-value":700},null,8,["onChange"])]),Object(n["g"])(r,{reversed:"",width:"48",height:"48",label:"Tone",type:"boss_small1",min:-10,max:10,onChange:a.setTone,"default-value":2,class:"m-align"},null,8,["onChange"])])]})),_:1},8,["input-outer","output-outer","input-inner","output-inner"])}var H={input:{type:AudioNode,required:!0},output:{type:AudioNode,required:!0}},Z={class:"pedal"},$={class:"led"},tt=Object(n["g"])("div",{class:"led-label"},"check",-1),et={class:"controls"},it={class:"top"},nt=Object(n["e"])('<div class="io"><div class="left"><i class="arrow"></i><span>Output</span></div><div class="right"><span>Input</span><i class="arrow right"></i></div></div>',1),ot={class:"label"},st={class:"title"},at={class:"symbol"},rt=Object(n["g"])("div",{class:"battery-knob-row"},[Object(n["g"])("div",{class:"battery-knob"})],-1);function lt(t,e,i,o,s,a){return Object(n["h"])(),Object(n["c"])("div",Z,[Object(n["g"])("div",$,[tt,Object(n["g"])("div",{class:["led-diode",{on:s.turnedOn}]},null,2)]),Object(n["g"])("div",et,[Object(n["k"])(t.$slots,"default")]),Object(n["g"])("div",it,[nt,Object(n["g"])("div",ot,[Object(n["g"])("div",st,Object(n["m"])(i.label),1),Object(n["g"])("div",at,Object(n["m"])(i.model),1)]),Object(n["g"])("div",{class:"rub",onClick:e[1]||(e[1]=function(){return a.toggle&&a.toggle.apply(a,arguments)})})]),rt])}var ct={components:{},props:{inputOuter:{type:AudioNode,required:!0},outputOuter:{type:AudioNode,required:!0},inputInner:{type:AudioNode,required:!0},outputInner:{type:AudioNode,required:!0},label:{type:String,required:!0},model:{type:String,required:!0}},data:function(){var t=k.createGain();t.gain.setValueAtTime(1,k.currentTime);var e=k.createGain();return e.gain.setValueAtTime(0,k.currentTime),{turnedOn:!1,bypass:t,effect:e}},created:function(){this.inputOuter.connect(this.bypass),this.bypass.connect(this.outputOuter),this.inputOuter.connect(this.effect),this.effect.connect(this.inputInner),this.outputInner.connect(this.outputOuter)},methods:{toggle:function(){this.turnedOn=!this.turnedOn,this.effect.gain.setValueAtTime(Number(this.turnedOn),k.currentTime),this.bypass.gain.setValueAtTime(Number(!this.turnedOn),k.currentTime)}}};i("3592");ct.render=lt;var ut=ct,ht={props:Object(J["a"])({},H),components:{StompBoss:ut,PolyKnob:W},data:function(){return{inNode:k.createWaveShaper(),outNode:k.createGain(),tone:k.createBiquadFilter(),effect:150,volume:.5}},created:function(){this.build()},methods:{setDist:function(t){this.effect=t,this.inNode.curve=this.makeDistortionCurve(t)},setVolume:function(t){this.volume=t,this.outNode&&this.outNode.gain.setValueAtTime(t,k.currentTime)},setTone:function(t){this.tone.gain.value=t},build:function(){this.tone.frequency.value=3900,this.tone.type="peaking",this.tone.Q.value=.7071,this.tone.gain.value=2,this.inNode.curve=this.makeDistortionCurve(this.effect),this.outNode.gain.setValueAtTime(this.volume,k.currentTime),this.inNode.connect(this.tone),this.tone.connect(this.outNode)},makeDistortionCurve:function(t){for(var e,i="number"===typeof t?t:50,n=44100,o=new Float32Array(n),s=Math.PI/180,a=0;a<n;++a)e=2*a/n-1,o[a]=(3+i)*e*20*s/(Math.PI+i*Math.abs(e));return o}}};i("5f56");ht.render=X;var dt=ht,pt={class:"pedal-controls"},gt={class:"pedal-controls-row"};function ft(t,e,i,o,s,a){var r=Object(n["l"])("PolyKnob"),l=Object(n["l"])("StompBoss");return Object(n["h"])(),Object(n["c"])(l,{label:"Tremolo",model:"TR-2",class:"tremolo","input-outer":t.input,"output-outer":t.output,"input-inner":s.inNode,"output-inner":s.outNode},{default:Object(n["o"])((function(){return[Object(n["g"])("div",pt,[Object(n["g"])("div",gt,[Object(n["g"])(r,{min:0,max:10,onChange:a.setSpeed,step:"0.1","default-value":3.5,type:"good_boss",label:"Rate"},null,8,["onChange","default-value"]),Object(n["g"])(r,{min:0,max:1,label:"Depth",type:"good_boss",onChange:a.setMix,"default-value":.75},null,8,["onChange","default-value"])]),Object(n["g"])(r,{min:0,max:1,reversed:"",width:"48",height:"48",label:"Wave",type:"boss_small1",onChange:a.setWave,class:"m-align","default-value":.8},null,8,["onChange","default-value"])])]})),_:1},8,["input-outer","output-outer","input-inner","output-inner"])}var bt={components:{StompBoss:ut,PolyKnob:W},props:Object(J["a"])({},H),data:function(){return{inNode:k.createGain(),outNode:k.createGain(),dryNode:k.createGain(),tremoloGain:k.createGain(),mix:.5,speed:3,wetNode:k.createGain(),oscillatorSin:k.createOscillator(),oscillatorSinGain:k.createGain(),oscillatorTriangle:k.createOscillator(),oscillatorTriangleGain:k.createGain(),mergeGain:k.createGain()}},created:function(){this.build()},methods:{setMix:function(t){this.mix=t,this.wetNode.gain.setValueAtTime(t,k.currentTime),this.dryNode.gain.setValueAtTime(1-t,k.currentTime)},setSpeed:function(t){var e=k.currentTime+.01;this.speed=t,this.oscillatorSin.frequency.setValueAtTime(t,e),this.oscillatorTriangle.frequency.setValueAtTime(t,e)},setWave:function(t){this.oscillatorSinGain.gain.value=t,this.oscillatorTriangleGain.gain.value=1-t},build:function(){this.oscillatorSinGain.gain.value=.5,this.oscillatorSin.frequency.setValueAtTime(this.speed,k.currentTime),this.oscillatorSin.connect(this.oscillatorSinGain),this.oscillatorSinGain.connect(this.mergeGain),this.oscillatorTriangleGain.gain.value=.5,this.oscillatorTriangle.type="triangle",this.oscillatorTriangle.frequency.setValueAtTime(this.speed,k.currentTime),this.oscillatorTriangle.connect(this.oscillatorTriangleGain),this.oscillatorTriangleGain.connect(this.mergeGain),this.mergeGain.connect(this.tremoloGain.gain);var t=k.currentTime+.01;this.oscillatorSin.start(t),this.oscillatorTriangle.start(t),this.wetNode.gain.setValueAtTime(this.mix,k.currentTime),this.dryNode.gain.setValueAtTime(1-this.mix,k.currentTime),this.inNode.connect(this.dryNode).connect(this.outNode),this.inNode.connect(this.tremoloGain).connect(this.wetNode).connect(this.outNode)}}};i("dab0");bt.render=ft;var vt=bt,mt={class:"pedal-controls-single"};function At(t,e,i,o,s,a){var r=Object(n["l"])("PolyKnob"),l=Object(n["l"])("StompBase");return Object(n["h"])(),Object(n["c"])(l,{label:"Autowah",model:"AW-3",class:"autowah","input-outer":t.input,"output-outer":t.output,"input-inner":s.inNode,"output-inner":s.outNode},{default:Object(n["o"])((function(){return[Object(n["g"])("div",mt,[Object(n["g"])(r,{min:10,max:80,type:"good_boss",label:"Speed",onChange:a.setSpeed,"default-value":20},null,8,["onChange"]),Object(n["g"])(r,{min:0,max:1,label:"Depth",type:"good_boss",onChange:a.setMix,"default-value":.7},null,8,["onChange","default-value"])])]})),_:1},8,["input-outer","output-outer","input-inner","output-inner"])}i("4de4");var wt={components:{StompBase:ut,PolyKnob:W},props:Object(J["a"])({},H),data:function(){return{inNode:k.createGain(),outNode:k.createGain(),dryNode:k.createGain(),mix:.7,minFreq:350,maxFreq:2200,down:!0,speed:20,wetNode:k.createGain(),filter:k.createBiquadFilter(),filterGain:k.createGain(),oscilatorWaveShaper:null,oscillator:null,oscillatorGain:null}},created:function(){this.build()},methods:{setMix:function(t){this.mix=t,this.wetNode.gain.value=t,this.dryNode.gain.value=1-t},setSpeed:function(t){this.speed=t},build:function(){this.filterGain.gain.value=2,this.wetNode.gain.value=this.mix,this.dryNode.gain.value=1-this.mix,this.filter.frequency.value=1150,this.filter.type="bandpass",this.filter.q=800,setInterval(this.moveFreq,3),this.inNode.connect(this.dryNode).connect(this.outNode),this.inNode.connect(this.filter).connect(this.filterGain).connect(this.wetNode).connect(this.outNode)},moveFreq:function(){var t=this.filter.frequency.value;this.down?t<=this.minFreq?(this.down=!this.down,this.filter.frequency.value=t+this.speed):this.filter.frequency.value=t-this.speed:t>=this.maxFreq?(this.down=!this.down,this.filter.frequency.value=t-this.speed):this.filter.frequency.value=t+this.speed}}};i("8612");wt.render=At;var yt=wt,kt={class:"pedal-controls"},xt={class:"pedal-controls-row"};function _t(t,e,i,o,s,a){var r=Object(n["l"])("PolyKnob"),l=Object(n["l"])("StompBoss");return Object(n["h"])(),Object(n["c"])(l,{label:"Distortion",model:"DS-1",class:"distortion","input-outer":t.input,"output-outer":t.output,"input-inner":s.inNode,"output-inner":s.outNode},{default:Object(n["o"])((function(){return[Object(n["g"])("div",kt,[Object(n["g"])("div",xt,[Object(n["g"])(r,{min:-10,max:10,onChange:a.setTone,"default-value":2,type:"good_boss",label:"Tone"},null,8,["onChange"]),Object(n["g"])(r,{min:0,max:1500,label:"Dist",type:"good_boss",onChange:a.setDist,"default-value":400},null,8,["onChange"])]),Object(n["g"])(r,{min:0,max:1,reversed:"",width:"48",height:"48",label:"Level",type:"boss_small1",onChange:a.setLevel,class:"m-align","default-value":.5},null,8,["onChange","default-value"])])]})),_:1},8,["input-outer","output-outer","input-inner","output-inner"])}var Ot={props:Object(J["a"])({},H),components:{StompBoss:ut,PolyKnob:W},data:function(){return{inNode:k.createWaveShaper(),outNode:k.createGain(),tone:k.createBiquadFilter(),effect:150,volume:.5}},created:function(){this.build()},methods:{setDist:function(t){this.effect=t,this.inNode.curve=j.distorsionCurves["standard"](t)},setLevel:function(t){this.volume=t,this.outNode.gain.setValueAtTime(t,k.currentTime)},setTone:function(t){this.tone.gain.value=t},build:function(){this.tone.frequency.value=3900,this.tone.type="peaking",this.tone.Q.value=.7071,this.tone.gain.value=2,this.inNode.curve=j.distorsionCurves["standard"](this.effect),this.outNode.gain.setValueAtTime(this.volume,k.currentTime),this.inNode.connect(this.tone),this.tone.connect(this.outNode)}}};i("cff9");Ot.render=_t;var Ct=Ot,jt={props:Object(J["a"])({},H),components:{Tremolo:vt,Overdrive:dt,Autowah:yt,Distortion:Ct},data:function(){return{OdDsWire:k.createGain(),DsTrWire:k.createGain(),TrAwWire:k.createGain()}}};jt.render=K,jt.__scopeId="data-v-2d7318ee";var Mt=jt,Et={name:"Stack",components:{Amp:D,Pedalboard:Mt},props:{input:{type:AudioNode},glowSwitch:{type:Boolean}},data:function(){var t=k.createGain(),e=k.createGain();return t.connect(k.destination),{ampOut:t,pedalboardOut:e}}};i("779f");Et.render=u;var St=Et,It=Object(n["q"])("data-v-ca0ea874");Object(n["j"])("data-v-ca0ea874");var Lt={class:"modal-mask"},Bt={class:"modal-wrapper"},Wt={class:"modal-container"},Nt={class:"modal-header"},Tt=Object(n["f"])(" Select Input "),Vt={class:"modal-body"},Pt={for:"demo"},qt=Object(n["f"])(" Demo"),Gt=Object(n["g"])("br",null,null,-1),Ft={for:"mic"},Rt=Object(n["f"])(" Microphone"),Dt={class:"modal-footer"};Object(n["i"])();var Qt=It((function(t,e,i,o,s,a){return Object(n["h"])(),Object(n["c"])(n["a"],{name:"modal"},{default:It((function(){return[Object(n["g"])("div",Lt,[Object(n["g"])("div",Bt,[Object(n["g"])("div",Wt,[Object(n["g"])("div",Nt,[Object(n["k"])(t.$slots,"header",{},(function(){return[Tt]}),{},!0)]),Object(n["g"])("div",Vt,[Object(n["k"])(t.$slots,"body",{},(function(){return[Object(n["g"])("label",Pt,[Object(n["p"])(Object(n["g"])("input",{type:"radio",name:"type",value:"demo","onUpdate:modelValue":e[1]||(e[1]=function(t){return s.type=t}),id:"demo"},null,512),[[n["n"],s.type]]),qt]),Gt,Object(n["g"])("label",Ft,[Object(n["p"])(Object(n["g"])("input",{type:"radio",name:"type",value:"mic","onUpdate:modelValue":e[2]||(e[2]=function(t){return s.type=t}),id:"mic"},null,512),[[n["n"],s.type]]),Rt])]}),{},!0)]),Object(n["g"])("div",Dt,[Object(n["k"])(t.$slots,"footer",{},(function(){return[Object(n["g"])("button",{class:"modal-default-button",onClick:e[3]||(e[3]=function(e){return t.$emit("select",{type:s.type})})}," Select ")]}),{},!0)])])])])]})),_:3})})),Ut={data:function(){return{type:"demo",inputSource:""}}};i("54e3");Ut.render=Qt,Ut.__scopeId="data-v-ca0ea874";var Kt=Ut,Jt={name:"App",components:{Stack:St,Modal:Kt},data:function(){var t=k.createGain();return{input:t,source:{type:"demo"},showModal:!1,glowInput:!0,glowSwitch:!1}},created:function(){var t=this;fetch("audio/demo.mp3").then((function(t){return t.arrayBuffer()})).then((function(t){return k.decodeAudioData(t)})).then((function(e){t.sampleBuffer=e})).then(this.selectSource)},methods:{selectSource:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.showModal=!1,!t){i.next=6;break}if(e.glowSwitch=!0,t.type!==e.source.type){i.next=5;break}return i.abrupt("return");case 5:e.source=t;case 6:if(!t||"mic"!==t.type){i.next=21;break}if(e.inputStream){i.next=12;break}return i.next=10,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1},video:!1});case 10:e.inputStream=i.sent,e.inputSource=k.createMediaStreamSource(e.inputStream);case 12:e.decreasedGain.disconnect(e.input),n=k.createChannelSplitter(2),e.merger=k.createChannelMerger(2),e.inputSource.connect(n),n.connect(e.merger,0,0),n.connect(e.merger,0,1),e.merger.connect(e.input),i.next=27;break;case 21:e.decreasedGain=k.createGain(),e.decreasedGain.gain.value=.1,e.sampleSource||(e.sampleSource=k.createBufferSource(),e.sampleSource.buffer=e.sampleBuffer,e.sampleSource.loop=!0,e.sampleSource.start()),e.inputStream&&e.merger.disconnect(e.input),e.sampleSource.connect(e.decreasedGain),e.decreasedGain.connect(e.input);case 27:case"end":return i.stop()}}),i)})))()}}};i("cfc5");Jt.render=l;var zt=Jt;Object(n["b"])(zt).mount("#app")},"5f56":function(t,e,i){"use strict";i("0234")},"696c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPgSURBVHgBlVVfaFtVGD/33H/JTbKkdUtvshhX5zKFoaldRagTcVJhNSgWwZfSrb44xEUF63xQVx8Uh7Ju+ChtnVWGBQWFWvOmVteEdh19sEI2Eqo22Z+bLU3W5jb33rPzJfeO22xh7MCP7zvfOd/v/M733ZwgdOfho3iL4keKDAUxsWDGDqJ7HC9RXLMRNUOmGTnTMD9hKkTtHfdXos/tKXe/sLcUfiis8lgkmYVl8eJiVjwz8oNfyRd4M+cYxXAz0o9gg+gSjecPP114+c3eaz6hVfPwPt2JJUNgRYNFbC1BQzr66vjX206f/E5eK6+xNDRC8XYj6UGKMSCMf3NoJfpE9MZWwV+VnZKz1bnRxmPdyTCEJYhXdcNR1nX5/4rGVOeS89JrscMRIB4cHBweHR0F1Yg1SaH4vt74s0pP3/6i7JCNnT4+0OqobGexITAMwnUFBoeZDYljC20OjiPh0B5F3aiS2d+T3nQ6/VQikZgZHx/PYlPlDp+8Res7Eivc59hWbfdybS5uo3VznTgNI88qRnK+BmbNI3CK/+iH7+aiex8tlctlbnp6eoQQ4ubo/hchqfeN/QUv36IHJIdX4iqbCIGERw/+xyBBgzlNRAyVbyCV41je6OntKZyfW/SkUqntdPkAKN0BGyOP7Vz38F7dJ2gtdkIOtWd5sjuLCK/dUs3UW4EZUcMMRq+82leA+dLSkpuaDiCNQuCRzt3r0GVoil0hS8J5ILGILKV2P/JwRAU/l8uJ1OzC1iJ8hwIWDejyrRh6IGeRQbJFBjG7j4j9bkgG0ix4lzMKxzIsXefUukrPKoOcqr2G9gPsypN/ply1EkYiN+q5CJ0H56+fUh6wuu4s17e61japsQ27UrAL8wsS+KFQqEJNGkh/q52WmPfotJ+60XK1nqqxjWSNxJYdOX4qBH4sFoOG5aF+/1C8fjWnbMEs0p/c94wiYo4wzLrEouAVO1HjtWF8OvyZ/MvPv24NBALq5ORkmoa+BaXXKQ7BhtMnz8ip2ZRL0wMriLhLBlE5e6ft167d7mxSOvXFlzWVQ0NDy9RAY6fsh8KjQFxuSXvng/jypeq/yYJxZbZoKGdXSaEGywf7/rH3Mi6Pqwo58Xh8mR42Q3Hgtjr5/f7PkfleysG2yicnPr6Y+GNqsUiUGtHc38lzQPZ4V0fR2jcwMLBiEg6iZqOzs/MorU8F3eWRdrvd1bGxsSWT8Iidg20kpb+KmVKpdA5jHKZwC4JAFEURYC0YDKpdXV3F/v7+SxMTExe6u7vzNDxM6/i9naP5N4Nq3YYa7aOQKXZZ51JcQPX/qylKWG7MuwlScLn0SxkDFAAAAABJRU5ErkJggg=="},"755f":function(t,e,i){},"779f":function(t,e,i){"use strict";i("c23b")},"7f63":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAA2CAYAAAD+ighrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALWSURBVHgBjVW7jloxELXh8kYChESDFNKAUL5i09FE4geiFClSkpYqPU2ST9g/oUhPonRBIqzoeAbE++XMcTyTu3fRwkiWje/xmYfPGNVqtQyN3+qKebFYzJC9vAWoycxVYDweV8Sob2FUt5hlvBlIrlWn07FxUryqVCr9yGazb2n9k4EhZE1gE4lEFIbneWq5XL6ib2/8jABqjFQqpTCSyaQ6n88RGh+CQAXGcDisQqGQwgz3+/3+xXq9/ijARCJhHCsO2IH16XRC7J9ns9kdlwc1RIyPaglWgGl8op9tPRgMbLaU5eNyUFK73c4cDgd9PB5fS3mQcdAIABCW7+RmgkBisgNACuNOU3ZQzyU2NRqNbKw2FJQEwNVq9b9mtEfxoZ7MoD2qFU4ZmjVni6LjoCsRZKgsEN+Hw6FlxmaxWAQbA40wwrbbrQCn06lKp9NgZVEbAUajUYlxs9moQqGgxuOxiBpAS53L5Z5kTSUzdMjGGAK9P2MYQgCQbkcjTrvmrIN3DQBuDTO+S9ZcWD8QZaL5X9bsNgjk20IyKLyHDP2iCB6AkOmatYgCsmIWgHkNoI2TMrI78/lcBQ3gXq+nJpOJ8SAlGIQQNJQF8RGj9sCIgOEiaK6GVrxgtNH7n5agPnHAukZBqRufPFRQEMuNgZpj9GfMbBbomgcPgL6UzGKxMAK89D6CFe1AOrWatK6xyaJlo9sAm/SNAF0IwgbFQ7huX0vBeWZzQFtsy8hMfiAYcaXUcNKZwuiSkscJzY/ZAf9cdI11t9sVtwT87jn16Ha7LcBKpYI20KQaZryXu8azzIa+rlaryj2JDzTaIfdqGa4lBvqI33P6/bXZbPbZtQrKDC2Sz+cfGo3GFyk4wrikx1qt9p7XEqP/SYFlMpk+MfYFyAr3twId2tC/1zfKtudntJcB97xZLpd/USj3fg/iul6vP/tXLK2grpi0wlWgU0//GvAvQcA9KkDLsbwAAAAASUVORK5CYII="},8259:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkBB4OAAl3BeD2AAABEklEQVR42u3WTy4EQRQH4OkVMtqMm84BRBzBDdyAuQE727kBO4kNW4SnWpDYvqroTvr79r+qV39epRYLAKjRjV3AcTHrArqhgPWsj6Cbwg4owDuwcAe8hLO+A6M/xesJ/EkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+wWM+etli/r14yEZPY9OggFXELpfsI54bFHAVEdtMcFmCrw0KKMPkFrIakvXzH0bNDsRNiyuQXUd67/54KqO85KIXJfpRO//+sIz7XPZoyJ61OIFN9gVpcAbXZYz3bPiuhN/GasJGjdinm/C3EXdjNWGbRjzIN+FPI57XncEy3YTfjbitfQj6qltUeQO+nNSEb/3nAGD6PgHYMIchjgmkRQAAAABJRU5ErkJggg=="},8304:function(t,e,i){t.exports=i.p+"img/Big Knob.3ab91945.png"},8612:function(t,e,i){"use strict";i("c7ad")},"9f12":function(t,e,i){t.exports=i.p+"img/good_boss.3eadad85.png"},aa5b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEMSURBVHgBzZbNEQExGIbfxDg4oQLrhHFZHVDClqAEFWlBB3QgJ2vGJTpww2GRBDP+8+2ub3lOyeTnOeT7iQCRdjsMUMLYDPtHQIkE0XKpNPW8pGy6SKZWYucCCC9zMsK34UYSPK7tyqhrpTYgILNKDJoq+SjySZBggBSIrJI0gfBSxCF5EnFJ7kScEoskSCAOGOWRuDt8kpzo5IhotVBKtLrh3GU6E+buzbaMpuSUWExdrFX2omrfaAZedBzP19JE09BOwICt8tK8kR278CZEXRTHaoIcFJZHxVcGbtnvqjeX7G3jc5ecm5t+sRyk/TN8bOU+WafTa+AbIo/MZTyIkL5bN7LZVXLN+L/jBG9Vm6nCGzWxAAAAAElFTkSuQmCC"},acaa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM0SURBVHgBlZVNSFRRFMf/741NU04lSTLqmIqpiEqZiIEE1iJFENuHaLPJTRoJ0k5tEQSFFi10owsnyIRyMVlUZKIEuciPEkUNw9TRETWZGdPUOZ373ht9Mzp9nMd/znn33ve755533x1gf4tg3WA9Z02xSNOA1laO/7TLrBUdKJSm/hXe4H/IdA4UWQdK+AhKmQelujh+D4p5BDoQFwCv/RNQdJJ8lGG1oFOzDFoEpa2A0ldBGW5QpoflVWPLXZDh2A64YT9guR9ofcmZORm2DLriTac3W7dpytdGLnpGn31NZN++TgWbJ+j0Bo/jVRgiVLDNZqvzwyTNi/okcIaIrACOHTqMynAbCsIuhlyW3deONpbrITBbDZjN5i2Hw3EpPz+/26BlWR5mBaKbgDATUG2+hsIgoJevMYzjA/oVnyalwiyFYyZ3HO4ewDPxS7ZYLFm9vb32MB5fIh46fhMwGIEi04U9wE44YEe7AlaM1DWG8yXJvP94v3gY3N/fH8s9RbJYthhnygRknqLQGAhsRguaqQVe8u42akXzSl4ljihR70dHR83ssgT0jB9q4LskOSEgw05yqBBJNxMFxgcT1dDpdB5klyzvTC6rEnXSQ3dgpINJIWLVLAL6TURbM/zDdwvkUnqGMYIFuAJqGDCBLvO1IdWnpKQoNRLQQRF4XqkdQzSi+K9il+mz0Zs+O/Y/B9XQarWus5sQ0B7R4H6hDnjte6cMMPOb3QMLBmt+rl4Ni4uLl9nNi306xqrY/A4Tf3bw5C4qtU2SEvEW3YGgoGULcz3g0+cJ7/Ho6I2Ojo4JbnosMv3BuqoMuKMuxb7djmH6gnA6HPgSgl7KGo+dq1PjmpqaaXZOSZK69JM2ikfEIRF7H5S1BTrrA2ULkSbfro9r3P3uq6qqpomoj1WEYIuKirqn5ULGeFB8Cx8sAxqMlTHFsAbQkfzdo6+srGxOA9oQyrKzs29xfdbxl0OaD5DN1tbWUQ1YqWcYgqH8VfS53e5PsiyfZJmNRiMtLS0ZRV9MTMxGTk7Oamlp6YLdbp/My8ub5+Z6ruNTBJU+pGk1Os+ysJL987Imof5fdTHQE/zcb2lAaYklNTZyAAAAAElFTkSuQmCC"},af9c:function(t,e,i){t.exports=i.p+"img/toggle-off.798370b0.png"},b063:function(t,e,i){},b1c1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAuCAYAAADDX4LFAAAGWUlEQVRYR+2WW4icZx3Gf++cdvbbTTbZQ2ebTGqbFpIUbC5qhKJoQ0CwEC8Ek2BptaV45VW0oF6UiHixVEXwQmgRU8TjTUHUQILRSuymtE00bVNjmk2ym8zObOf8neY7vvKf+XYzm8y6W6EI4gsfH3yH5/+8z//wPooPcakPEZv/gw9Ud0OyHD16dO+1ubmvOZ2O2242Da3UN2ZnZ2+ul69/Cz4zM7Pt7Nmzf7Esa2cUhsp1XWzbptVua9u2/1qtVj8LWGsFWRN8ZmZm05kzZ67rON6qtcbzPEzTpN1u02g2abVauK77PrAPuAFEtwdZE/zw4cOv25b1sUwmg+/7WJZFs9mk0Wh076a1QvgfwKcBG+j0BxkIfuzYseLsq6/O53I5FcdxV4rTfzrRJbZlrEDbNPtJauALwHmgkcgUyAcDwQ8dOvTLRr1+JJVO43U6XQmOv/QCj3/xy7z9zsVBEv8W+D5QAZYAiR4OBD948OCLrWbzGdFaWC/LoRwLrRVmGBJqIbyyBPwloJroL0GcgeD79+8/brbbXwrDcEXrB4vTmEs1hkYMKvUGJdvpJjlZJxNwYSwlugA0B4IfOHDgoRs3bvzN9zwliRxyLR7atYcd9xRZmLvKfLlC2bap2o5gyxa+CrQBFygD14HamtVSLBbfdR1nd2SZ5PyArcYwRj6PVgonCFiybJpxLOB/B76X7MBPNBfw6prgk5OTd3fM1oUhL5gcAjJAGhA4EUPKwoMm8PXkkeDLq/WZJ0zGDPi9AY9kICXPQskUaAeuAc8nlbEsj9R6CZgH6uvNFnlvAB8FvpkBHUFOw+mEYX/FSG3XE+BFqff1wOXnrPQOMJ1cY0COZCdJQmVDklCRRJiLav5GwOUbkV1AJ4FxYDQJsKyUVImwlgYSYBkDeiPgy50sbEeAzQm4BJT/RQ7RWphLnUtSu2W0UfDlbyWpIpMAy13+F0kEUMpQJuNK634Q8OXkyT8SRO5yCZgw7bLtX/8J+Fpnwx3P/7vgurd10VeaVOSQ7YvOgerTd9B21mSegEoDbSLPMJocmjSKCIVPpzukpDpktK6av/3JuSOo7o2RcXJMoLOjaD0c3mqcOCOVoZSLCix8akmrr3+GJsB3kc3ehdZbIq1Hzz322J7FSuVzeJ1wczrOfsJQP0vNXryZVspCqSZBIM2zpG47pFfJkkgxSTa7LdR6Yu7IkZ1vXbr03cixp3JhqJQfoH1fDgkd+f7lLVH07c94XjmjVI0gkLaXMTu4zrV0YI4dxJlC46kni3984/wL+SAwDB0xomPSgU/gejiWje26VIPAPBnrZ8vwzz/nWMRnQfW6tbtWmCesC2SzxSiOC6f27fuRtqz7xlNQHEozGgVEHRff61BzPOr1BmYAc5rFP2j9bAXml2BuAUrL7PvBc+TZTpgpel858uDJV87/eEKhdhoZNoc+w2+82WVT2r4N3/doex6Wo6Vk9C9QP7gSx6/Pw6VrcDmZNauYGwyxI4wyxUuPfvI7lZvlRwopxX15Reg4GL/6Ne2nn0JfuYzuRHR8OTB1d1qd1rx5Quufl+DdBbjg9KbjLWuhZYzmuCeMM9vP7937La/VenQ6oyikIyLHIe3Y5AKPKFQEbogbaewE/JTm3EmlfleK4ysLcM6Cq6ushZYTJ2F+bs/u5yKr/amplGYyFTFkm2R3fISwWiUcNnDfb+C2XEzfowW8orlwqge+MA8X3J40t6yFliZJNL/+8O6Pz1frz0+BmvZdRjyXeNcewu1FvGtXcUoV7JaDaTrSQfqnqJ/chHIpjksiTQfeW2Utbq+W13YWXpx2rLsLnkPaj/GH83j5ITwUrh9itm3absw7moUTSv2mHMetElQWe6zl8F5tLfrr3Ll35IG36/YP742iUZlangIvBa4GJ4J2B0ohzsuo41VoVOK4PQ8lu2eI7jRFt3fo4zrc9kROPXd/hgeUQsl55mgwffR1n+oppV5eglotjq0yNJZ6B7TYucHWon+27A+CrQZMjMOufUp93k9DFJO+iHqrBks2dOpx7FShXYFa1DOiAry2teifig/7bDFgKgeFNEyEqZTRNUZxHDrg1cCsQTPqua+NWYvleT4Fm0dhLA/jaZgMYVMAOXFdFrhWb5aII/3g1kKCKMiNgeHDaBpGPcgHvZkv63/QWvwLqexTumUa/y4AAAAASUVORK5CYII="},b2c0:function(t,e,i){t.exports=i.p+"img/boss_single.0f5d053b.png"},b932:function(t,e,i){t.exports=i.p+"img/sprite_minimal.f3c29a86.png"},b967:function(t,e,i){var n={"./Big_Knob.png":"225f","./boss-bottom-bg.png":"fe10","./boss.png":"01a4","./boss/Arrow.png":"aa5b","./boss/Big Knob.png":"8304","./boss/Led_off.png":"696c","./boss/Led_on.png":"acaa","./boss/Pedal.png":"fb50","./boss/battery-switch.png":"3e00","./boss/boss-bottom-bg.png":"0158","./boss_single.png":"b2c0","./boss_small1.png":"1380","./boss_smaller.png":"f521","./fender_amp.png":"d5ec","./good_boss.png":"9f12","./grill-grey.png":"49e0","./input.png":"421b","./knob-bg.png":"8259","./knob-w-bg.png":"be96","./knob.png":"0b3f","./led.png":"b1c1","./logo.png":"4ffd","./marshall.png":"5107","./pedal-jack.png":"7f63","./pedalboard.png":"0734","./sprite_minimal.png":"b932","./switch.png":"0bb0","./temp.png":"bbbd","./toggle-off.png":"af9c","./toggle-on.png":"082a"};function o(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id="b967"},bbbd:function(t,e,i){t.exports=i.p+"img/temp.a1f29b52.png"},be96:function(t,e,i){t.exports=i.p+"img/knob-w-bg.5012844c.png"},c23b:function(t,e,i){},c414:function(t,e,i){},c7ad:function(t,e,i){},cfc5:function(t,e,i){"use strict";i("43ae")},cff9:function(t,e,i){"use strict";i("3dce")},d5dc:function(t,e,i){},d5ec:function(t,e,i){t.exports=i.p+"img/fender_amp.c5ac3cab.png"},dab0:function(t,e,i){"use strict";i("b063")},f521:function(t,e,i){t.exports=i.p+"img/boss_smaller.57731b4a.png"},f930:function(module,exports,__webpack_require__){var _createForOfIteratorHelper=__webpack_require__("6374").default,_readOnlyError=__webpack_require__("da60").default,_typeof=__webpack_require__("7037").default,_classCallCheck=__webpack_require__("970b").default,_createClass=__webpack_require__("5bc3").default,_inherits=__webpack_require__("ed6d").default,_createSuper=__webpack_require__("2d0d").default,_wrapNativeSuper=__webpack_require__("a128").default;if(__webpack_require__("d3b7"),__webpack_require__("25f0"),__webpack_require__("b680"),__webpack_require__("ac1f"),__webpack_require__("5319"),__webpack_require__("fb6a"),__webpack_require__("1276"),__webpack_require__("99af"),__webpack_require__("9911"),__webpack_require__("1913"),__webpack_require__("ddb0"),__webpack_require__("cb29"),__webpack_require__("a434"),__webpack_require__("b0c0"),__webpack_require__("159b"),window.customElements){var styles=document.createElement("style");styles.innerHTML="#webaudioctrl-context-menu {\n    display: none;\n    position: absolute;\n    z-index: 10;\n    padding: 0;\n    width: 100px;\n    color:#eee;\n    background-color: #268;\n    border: solid 1px #888;\n    box-shadow: 1px 1px 2px #888;\n    font-family: sans-serif;\n    font-size: 11px;\n    line-height:1.7em;\n    text-align:center;\n    cursor:pointer;\n    color:#fff;\n    list-style: none;\n  }\n  #webaudioctrl-context-menu.active {\n    display: block;\n  }\n  .webaudioctrl-context-menu__item {\n    display: block;\n    margin: 0;\n    padding: 0;\n    color: #000;\n    background-color:#eee;\n    text-decoration: none;\n  }\n  .webaudioctrl-context-menu__title{\n    font-weight:bold;\n  }\n  .webaudioctrl-context-menu__item:last-child {\n    margin-bottom: 0;\n  }\n  .webaudioctrl-context-menu__item:hover {\n    background-color: #b8b8b8;\n  }\n  ",document.head.appendChild(styles);var midimenu=document.createElement("ul");midimenu.id="webaudioctrl-context-menu",midimenu.innerHTML='<li class="webaudioctrl-context-menu__title">MIDI Learn</li>\n  <li class="webaudioctrl-context-menu__item" id="webaudioctrl-context-menu-learn" onclick="webAudioControlsWidgetManager.contextMenuLearn()">Learn</li>\n  <li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClear()">Clear</li>\n  <li class="webaudioctrl-context-menu__item" onclick="webAudioControlsWidgetManager.contextMenuClose()">Close</li>\n  ';var opt={useMidi:0,preserveMidiLearn:0,preserveValue:0,midilearn:0,mididump:0,outline:null,knobSrc:null,knobSprites:null,knobWidth:null,knobHeight:null,knobDiameter:null,knobColors:"#e00;#000;#fff",sliderSrc:null,sliderWidth:null,sliderHeight:null,sliderKnobSrc:null,sliderKnobWidth:null,sliderKnobHeight:null,sliderDitchlength:null,sliderColors:"#e00;#333;#fcc",switchWidth:null,switchHeight:null,switchDiameter:null,switchColors:"#e00;#000;#fcc",paramWidth:null,paramHeight:null,paramFontSize:9,paramColors:"#fff;#000",valuetip:0,xypadColors:"#e00;#000;#fcc"};window.WebAudioControlsOptions&&Object.assign(opt,window.WebAudioControlsOptions);var WebAudioControlsWidget=function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),t=e.call(this),t.addEventListener("keydown",t.keydown),t.addEventListener("mousedown",t.pointerdown,{passive:!1}),t.addEventListener("touchstart",t.pointerdown,{passive:!1}),t.addEventListener("wheel",t.wheel,{passive:!1}),t.addEventListener("mouseover",t.pointerover),t.addEventListener("mouseout",t.pointerout),t.addEventListener("contextmenu",t.contextMenu),t.hover=t.drag=0,document.body.appendChild(midimenu),t.basestyle='\n  .webaudioctrl-tooltip{\n    display:inline-block;\n    position:absolute;\n    margin:0 -1000px;\n    z-index: 999;\n    background:#eee;\n    color:#000;\n    border:1px solid #666;\n    border-radius:4px;\n    padding:5px 10px;\n    text-align:center;\n    left:0; top:0;\n    font-size:11px;\n    opacity:0;\n    visibility:hidden;\n  }\n  .webaudioctrl-tooltip:before{\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -8px;\n    border: 8px solid transparent;\n    border-top: 8px solid #666;\n  }\n  .webaudioctrl-tooltip:after{\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -6px;\n    border: 6px solid transparent;\n    border-top: 6px solid #eee;\n  }\n  ',t.onblur=function(){t.elem.style.outline="none"},t.onfocus=function(){switch(+t.outline){case null:case 0:t.elem.style.outline="none";break;case 1:t.elem.style.outline="1px solid #444";break;default:t.elem.style.outline=t.outline}},t}return _createClass(i,[{key:"sendEvent",value:function(t){var e;e=document.createEvent("HTMLEvents"),e.initEvent(t,!1,!0),this.dispatchEvent(e)}},{key:"getAttr",value:function(t,e){var i=this.getAttribute(t);if(null==i)return e;switch(_typeof(e)){case"number":return"true"==i?1:(i=+i,isNaN(i)?0:i)}return i}},{key:"showtip",value:function(t){function e(t,e,i){switch(i){case"x":return(0|t).toString(16);case"X":return(0|t).toString(16).toUpperCase();case"d":return(0|t).toString();case"f":return parseFloat(t).toFixed(e);case"s":return t.toString()}return""}function i(t,i){var n=t.indexOf("%"),o=n+1;n<0&&(o=t.length);var s=[0,0],a=0,r=0,l="";if(t.indexOf("%s")>=0)return t.replace("%s",i);for(;o<t.length;++o){if("dfxXs".indexOf(t[o])>=0){a=t[o];break}"."==t[o]?r=1:s[r]=10*s[r]+parseInt(t[o])}return l=e(i,s[1],a),s[0]>0&&(l=("               "+l).slice(-s[0])),l=t.replace(/%.*[xXdfs]/,l),l}var n=this.tooltip;if((this.drag||this.hover)&&(this.valuetip&&(null==n?n="%s":n.indexOf("%")<0&&(n+=" : %s")),n)){this.ttframe.innerHTML=i(n,this.convValue),this.ttframe.style.display="inline-block",this.ttframe.style.width="auto",this.ttframe.style.height="auto",this.ttframe.style.transition="opacity 0.5s "+t+"s,visibility 0.5s "+t+"s",this.ttframe.style.opacity=.9,this.ttframe.style.visibility="visible";var o=this.getBoundingClientRect(),s=this.ttframe.getBoundingClientRect();document.documentElement.getBoundingClientRect();return this.ttframe.style.left=.5*(o.width-s.width)+1e3+"px",void(this.ttframe.style.top=-s.height-8+"px")}this.ttframe.style.transition="opacity 0.1s "+t+"s,visibility 0.1s "+t+"s",this.ttframe.style.opacity=0,this.ttframe.style.visibility="hidden"}},{key:"setupLabel",value:function(){this.labelpos=this.getAttr("labelpos","bottom 0px");var t=this.labelpos.split(" "),e="";switch(3==t.length&&(e="translate(".concat(t[1],",").concat(t[2],")")),this.label.style.position="absolute",t[0]){case"center":this.label.style.top="50%",this.label.style.left="50%",this.label.style.transform="translate(-50%,-50%) ".concat(e);break;case"right":this.label.style.top="50%",this.label.style.left="100%",this.label.style.transform="translateY(-50%) ".concat(e);break;case"left":this.label.style.top="50%",this.label.style.left="0%",this.label.style.transform="translate(-100%,-50%) ".concat(e);break;case"bottom":this.label.style.top="100%",this.label.style.left="50%",this.label.style.transform="translateX(-50%) ".concat(e);break;case"top":this.label.style.top="0%",this.label.style.left="50%",this.label.style.transform="translate(-50%,-100%) ".concat(e);break}}},{key:"pointerover",value:function(t){this.hover=1,this.showtip(.6)}},{key:"pointerout",value:function(t){this.hover=0,this.showtip(0)}},{key:"contextMenu",value:function(t){window.webAudioControlsWidgetManager&&this.midilearn&&webAudioControlsWidgetManager.contextMenuOpen(t,this),t.preventDefault(),t.stopPropagation()}},{key:"setMidiController",value:function(t,e){this.listeningToThisMidiController(t,e)||(this.midiController={channel:t,cc:e},console.log("Added mapping for channel="+t+" cc="+e+" tooltip="+this.tooltip))}},{key:"listeningToThisMidiController",value:function(t,e){var i=this.midiController;return(i.channel===t||i.channel<0)&&i.cc===e}},{key:"processMidiEvent",value:function(t){var e=15&t.data[0],i=t.data[1];if("learn"==this.midiMode&&(this.setMidiController(e,i),webAudioControlsWidgetManager.contextMenuClose(),this.midiMode="normal",webAudioControlsWidgetManager.preserveMidiLearn()),this.listeningToThisMidiController(e,i))if("WEBAUDIO-SWITCH"==this.tagName)switch(this.type){case"toggle":t.data[2]>=64&&this.setValue(1-this.value,!0);break;case"kick":this.setValue(t.data[2]>=64?1:0);break;case"radio":for(var n=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']"),o=0;o<n.length;++o)n[o]==this?n[o].setValue(1):n[o].setValue(0);break}else{var s=this.min+(this.max-this.min)*t.data[2]/127;this.setValue(s,!0)}}}]),i}(_wrapNativeSuper(HTMLElement));try{customElements.define("webaudio-knob",function(_WebAudioControlsWidg){"use strict";_inherits(WebAudioKnob,_WebAudioControlsWidg);var _super2=_createSuper(WebAudioKnob);function WebAudioKnob(){return _classCallCheck(this,WebAudioKnob),_super2.call(this)}return _createClass(WebAudioKnob,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this,root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML="<style>\n  ".concat(this.basestyle,"\n  :host{\n    display:inline-block;\n    margin:0;\n    padding:0;\n    cursor:pointer;\n    font-family: sans-serif;\n    font-size: 11px;\n  }\n  .webaudio-knob-body{\n    display:inline-block;\n    position:relative;\n    margin:0;\n    padding:0;\n    vertical-align:bottom;\n    white-space:pre;\n  }\n  </style>\n  <div class='webaudio-knob-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part=\"label\" class=\"webaudioctrl-label\"><slot></slot></div></div>\n  "),this.elem=root.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",opt.knobSrc),Object.defineProperty(this,"src",{get:function(){return _this2._src},set:function(t){_this2._src=t,_this2.setupImage()}}),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return _this2._value},set:function(t){_this2._value=t,_this2.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this._min=this.getAttr("min",0),Object.defineProperty(this,"min",{get:function(){return _this2._min},set:function(t){_this2._min=+t,_this2.redraw()}}),this._max=this.getAttr("max",100),Object.defineProperty(this,"max",{get:function(){return _this2._max},set:function(t){_this2._max=+t,_this2.redraw()}}),this._step=this.getAttr("step",1),Object.defineProperty(this,"step",{get:function(){return _this2._step},set:function(t){_this2._step=+t,_this2.redraw()}}),this._sprites=this.getAttr("sprites",opt.knobSprites),Object.defineProperty(this,"sprites",{get:function(){return _this2._sprites},set:function(t){_this2._sprites=t,_this2.setupImage()}}),this._width=this.getAttr("width",null),Object.defineProperty(this,"width",{get:function(){return _this2._width},set:function(t){_this2._width=t,_this2.setupImage()}}),this._height=this.getAttr("height",null),Object.defineProperty(this,"height",{get:function(){return _this2._height},set:function(t){_this2._height=t,_this2.setupImage()}}),this._diameter=this.getAttr("diameter",null),Object.defineProperty(this,"diameter",{get:function(){return _this2._diameter},set:function(t){_this2._diameter=t,_this2.setupImage()}}),this._colors=this.getAttr("colors",opt.knobColors),Object.defineProperty(this,"colors",{get:function(){return _this2._colors},set:function(t){_this2._colors=t,_this2.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.log=this.getAttr("log",0),this.sensitivity=this.getAttr("sensitivity",1),this.valuetip=this.getAttr("valuetip",opt.valuetip),this.tooltip=this.getAttr("tooltip",null),this.conv=this.getAttr("conv",null),this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;if(this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){var ch=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,cc=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(ch,cc)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable)for(var ml=webAudioControlsWidgetManager.midiLearnTable,i=0;i<ml.length;++i)if(ml[i].id==this.id){this.setMidiController(ml[i].cc.channel,ml[i].cc.cc);break}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var n=this.step;n<1;n*=10)++this.digits;this._setValue(this._value),this.coltab=["#e00","#000","#000"],window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;if(this.kw=this._width||this._diameter||opt.knobWidth||opt.knobDiameter,this.kh=this._height||this._diameter||opt.knobHeight||opt.knobDiameter,!this.src){this.colors&&(this.coltab=this.colors.split(";")),this.coltab||(this.coltab=["#e00","#000","#000"]);for(var e='<svg xmlns="http://www.w3.org/2000/svg" width="64" height="6464" preserveAspectRatio="none">\n  <defs>\n    <filter id="f1">\n      <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" />\n    </filter>\n    <radialGradient id="g1" cx="50%" cy="10%">\n      <stop offset="0%" stop-color="'.concat(this.coltab[2],'"/>\n      <stop offset="100%" stop-color="').concat(this.coltab[1],'"/>\n    </radialGradient>\n    <linearGradient id="g2" x1="0%" y1="0%" x2="0%" y2="100%">\n      <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n      <stop offset="100%" stop-color="#000" stop-opacity="0.3"/>\n    </linearGradient>\n    <g id="B">\n      <circle cx="32" cy="32" r="31" fill="#000"/>\n      <circle cx="32" cy="32" r="29" fill="url(#g1)"/>\n      <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n      <circle cx="32" cy="32" r="25" fill="').concat(this.coltab[1],'" filter="url(#f1)"/>\n      <circle cx="32" cy="32" r="29" fill="url(#g2)"/>\n    </g>\n    <line id="K" x1="32" y1="25" x2="32" y2="11" stroke-linecap="round" stroke-width="6" stroke="').concat(this.coltab[0],'"/>\n  </defs>'),i=0;i<101;++i)e+='<use href="#B" y="'.concat(64*i,'"/><use href="#K" y="').concat(64*i,'" transform="rotate(').concat((270*i/101-135).toFixed(2),",32,").concat(64*i+32,')"/>');return e+="</svg>",this.elem.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")",null==this.kw&&(this.kw=64),null==this.kh&&(this.kh=64),this.elem.style.backgroundSize="".concat(this.kw,"px ").concat(101*this.kh,"px"),this.elem.style.width=this.kw+"px",this.elem.style.height=this.kh+"px",this.style.height=this.kh+"px",this.fireflag=!0,void this.redraw()}this.img=new Image,this.img.onload=function(){t.elem.style.backgroundImage="url("+t.src+")",null==t._sprites?t._sprites=t.img.height/t.img.width-1:t._sprites=+t._sprites,null==t.kw&&(t.kw=t.img.width),null==t.kh&&(t.kh=t.img.height/(t.sprites+1)),t.sprites?t.elem.style.backgroundSize="".concat(t.kw,"px ").concat(t.kh*(t.sprites+1),"px"):t.elem.style.backgroundSize="100% 100%",t.elem.style.width=t.kw+"px",t.elem.style.height=t.kh+"px",t.style.height=t.kh+"px",t.redraw()},this.img.src=this.src}},{key:"redraw",value:function(){var t;if(this.digits=0,this.step&&this.step<1)for(var e=this.step;e<1;e*=10)++this.digits;this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),t=this.log?Math.log(this.value/this.min)/Math.log(this.max/this.min):(this.value-this.min)/(this.max-this.min);var i=this.elem.style,n=this.src?this.sprites:100;if(n>=1){var o=n*t|0;i.backgroundPosition="0px "+-o*this.kh+"px",i.transform="rotate(0deg)"}else{var s=270*(t-.5);i.backgroundPosition="0px 0px",i.transform="rotate("+s+"deg)"}}},{key:"_setValue",value:function _setValue(v){if(this.step&&(v=Math.round((v-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,v)),this._value!=this.oldvalue){if(this.fireflag=!0,this.oldvalue=this._value,this.conv){var x=this._value;this.convValue=eval(this.conv),"function"==typeof this.convValue&&(this.convValue=this.convValue(x))}else this.convValue=this._value;return"number"==typeof this.convValue&&(this.convValue=this.convValue.toFixed(this.digits)),this.redraw(),this.showtip(0),1}return 0}},{key:"setValue",value:function(t,e){this._setValue(t)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}},{key:"keydown",value:function(t){var e=this.step;switch(0==e&&(_readOnlyError("delta"),e=1),t.key){case"ArrowUp":this.setValue(this.value+e,!0);break;case"ArrowDown":this.setValue(this.value-e,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},{key:"wheel",value:function(t){if(this.enable){if(this.log){var e=Math.log(this.value/this.min)/Math.log(this.max/this.min),i=t.deltaY>0?-.01:.01;t.shiftKey||(i*=5),e+=i,this.setValue(this.min*Math.pow(this.max/this.min,e),!0)}else{var n=Math.max(this.step,.05*(this.max-this.min));t.shiftKey&&(n=this.step?this.step:1),n=t.deltaY>0?-n:n,this.setValue(+this.value+n,!0)}t.preventDefault(),t.stopPropagation()}}},{key:"pointerdown",value:function(t){var e=this;if(this.enable){var i=t;if(t.touches)i=t.changedTouches[0],this.identifier=i.identifier;else if(1!=i.buttons&&0!=i.button)return;this.elem.focus(),this.drag=1,this.showtip(0),this.oldvalue=this._value;var n=function(t){var i=t;if(t.touches)for(var n=0;n<t.touches.length;++n)if(t.touches[n].identifier==e.identifier){i=t.touches[n];break}e.lastShift!==i.shiftKey&&(e.lastShift=i.shiftKey,e.startPosX=i.pageX,e.startPosY=i.pageY,e.startVal=e.value);var o=(e.startPosY-i.pageY-e.startPosX+i.pageX)*e.sensitivity;if(e.log){var s=Math.log(e.startVal/e.min)/Math.log(e.max/e.min);s+=o/(128*(i.shiftKey?4:1)),s<0&&(s=0),s>1&&(s=1),e._setValue(e.min*Math.pow(e.max/e.min,s))}else e._setValue(e.min+((e.startVal+(e.max-e.min)*o/(128*(i.shiftKey?4:1))-e.min)/e.step|0)*e.step);return e.fireflag&&(e.sendEvent("input"),e.fireflag=!1),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1},o=function t(i){if(i.touches)for(var o=0;;){if(i.changedTouches[o].identifier==e.identifier)break;if(++o>=i.changedTouches.length)return}e.drag=0,e.showtip(0),e.startPosX=e.startPosY=null,window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",s,{passive:!1}),e.sendEvent("change")},s=function(t){t.preventDefault()};return i.ctrlKey||i.metaKey?this.setValue(this.defvalue,!0):(this.startPosX=i.pageX,this.startPosY=i.pageY,this.startVal=this.value,window.addEventListener("mousemove",n),window.addEventListener("touchmove",n,{passive:!1})),window.addEventListener("mouseup",o),window.addEventListener("touchend",o),window.addEventListener("touchcancel",o),document.body.addEventListener("touchstart",s,{passive:!1}),t.preventDefault(),t.stopPropagation(),!1}}}]),WebAudioKnob}(WebAudioControlsWidget))}catch(error){console.log("webaudio-knob already defined")}try{customElements.define("webaudio-switch",function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.call(this)}return _createClass(i,[{key:"connectedCallback",value:function(){var t,e=this;if(t=this.attachShadow?this.attachShadow({mode:"open"}):this,t.innerHTML="<style>\n  ".concat(this.basestyle,"\n  :host{\n    display:inline-block;\n    position:relative;\n    margin:0;\n    padding:0;\n    font-family: sans-serif;\n    font-size: 11px;\n    cursor:pointer;\n  }\n  .webaudio-switch-body{\n    display:inline-block;\n    position:relative;\n    margin:0;\n    padding:0;\n    vertical-align:bottom;\n    white-space:pre;\n  }\n  .webaudioctrl-label{\n    position:absolute;\n    left:50%;\n    top:50%;\n  }\n  </style>\n  <div class='webaudio-switch-body' tabindex='1' touch-action='none'><div class='webaudioctrl-tooltip'></div><div part=\"label\" class=\"webaudioctrl-label\"><slot></slot></div></div>\n  "),this.elem=t.childNodes[2],this.ttframe=this.elem.firstChild,this.label=this.ttframe.nextSibling,this.enable=this.getAttr("enable",1),this._src=this.getAttr("src",null),Object.defineProperty(this,"src",{get:function(){return e._src},set:function(t){e._src=t,e.setupImage()}}),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return e._value},set:function(t){e._value=t,e.redraw()}}),this.defvalue=this.getAttr("defvalue",this._value),this.type=this.getAttr("type","toggle"),this.group=this.getAttr("group",""),this._width=this.getAttr("width",null),Object.defineProperty(this,"width",{get:function(){return e._width},set:function(t){e._width=t,e.setupImage()}}),this._height=this.getAttr("height",null),Object.defineProperty(this,"height",{get:function(){return e._height},set:function(t){e._height=t,e.setupImage()}}),this._diameter=this.getAttr("diameter",null),Object.defineProperty(this,"diameter",{get:function(){return e._diameter},set:function(t){e._diameter=t,e.setupImage()}}),this.invert=this.getAttr("invert",0),this._colors=this.getAttr("colors",opt.switchColors),Object.defineProperty(this,"colors",{get:function(){return e._colors},set:function(t){e._colors=t,e.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.setupLabel(),this.valuetip=0,this.tooltip=this.getAttr("tooltip",null),this.midilearn=this.getAttr("midilearn",opt.midilearn),this.midicc=this.getAttr("midicc",null),this.midiController={},this.midiMode="normal",this.midicc){var i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,n=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,n)}if(this.midilearn&&this.id&&webAudioControlsWidgetManager&&webAudioControlsWidgetManager.midiLearnTable)for(var o=webAudioControlsWidgetManager.midiLearnTable,s=0;s<o.length;++s)if(o[s].id==this.id){this.setMidiController(o[s].cc.channel,o[s].cc.cc);break}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var a=this.step;a<1;a*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.elem.onclick=function(t){t.stopPropagation()}}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;if(this.coltab=this.colors.split(";"),this.kw=this._width||this._diameter||opt.switchWidth||opt.switchDiameter,this.kh=this._height||this._diameter||opt.switchHeight||opt.switchDiameter,this.img=new Image,this.srcurl=null,null==this.src||""==this.src){null==this.kw&&(this.kw=32),null==this.kh&&(this.kh=32);var e=Math.min(this.kw,this.kh),i=this.kw,n=this.kh,o='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.kw,'" height="').concat(2*this.kh,'" preserveAspectRatio="none">\n  <defs>\n  <linearGradient id="g1" x1="0%" y1="0%" x2="0%" y2="100%">\n    <stop offset="0%" stop-color="#000" stop-opacity="0"/>\n    <stop offset="100%" stop-color="#000" stop-opacity="0.2"/>\n  </linearGradient>\n  <radialGradient id="g2" cx="50%" cy="30%">\n      <stop offset="0%" stop-color="').concat(this.coltab[2],'"/>\n      <stop offset="100%" stop-color="').concat(this.coltab[0],'"/>\n    </radialGradient>\n    <filter id="f1">\n      <feGaussianBlur in="SourceGraphic" stdDeviation=".4" />\n    </filter>\n  </defs>\n  <g id="p1">\n    <rect x="').concat(.075*i,'" y="').concat(.075*n,'" width="').concat(.85*i,'" height="').concat(.85*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="#000"/>\n    <rect x="').concat(.1*i,'" y="').concat(.1*n,'" width="').concat(.8*i,'" height="').concat(.8*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="').concat(this.coltab[1],'"/>\n  </g>\n  <g id="p2">\n    <circle cx="').concat(.5*i,'" cy="').concat(.5*n,'" r="').concat(.35*e,'" stroke="#000" stroke-width="').concat(.03*e,'" fill="').concat(this.coltab[0],'" filter="url(#f1)"/>\n    <circle cx="').concat(.5*i,'" cy="').concat(.5*n,'" r="').concat(.27*e,'" stroke="#000" stroke-width="').concat(.03*e,'" fill="#000" filter="url(#f1)"/>\n    <rect x="').concat(.075*i,'" y="').concat(.075*n,'" width="').concat(.85*i,'" height="').concat(.85*n,'" rx="').concat(.1*e,'" ry="').concat(.1*e,'" fill="url(#g1)"/>\n  </g>\n  <use href="#p1" y="').concat(n,'"/>\n  <use href="#p2" y="').concat(n,'"/>\n  <circle cx="').concat(.5*i,'" cy="').concat(1.5*n,'" r="').concat(.25*e,'" fill="url(#g2)" filter="url(#f1)"/>\n  <circle cx="').concat(.5*i,'" cy="').concat(1.5*n,'" r="').concat(.25*e,'" fill="url(#g1)"/>\n  </svg>');this.srcurl="data:image/svg+xml;base64,"+btoa(o)}else this.srcurl=this.src;this.img.onload=function(){null==t.kw&&(t.kw=t.img.width),null==t.kh&&(t.kh=.5*t.img.height),t.elem.style.backgroundImage="url("+t.srcurl+")",t.elem.style.backgroundSize="100% 200%",t.elem.style.width=t.kw+"px",t.elem.style.height=t.kh+"px",t.redraw()},this.img.src=this.srcurl}},{key:"redraw",value:function(){var t=this.elem.style;this.value^this.invert?t.backgroundPosition="0px -100%":t.backgroundPosition="0px 0px"}},{key:"setValue",value:function(t,e){this.value=t,this.checked=!!t,this.value!=this.oldvalue&&(this.redraw(),this.showtip(0),e&&(this.sendEvent("input"),this.sendEvent("change")),this.oldvalue=this.value)}},{key:"pointerdown",value:function(t){var e=this;if(this.enable){var i=t;if(t.touches)i=t.changedTouches[0],this.identifier=i.identifier;else if(1!=i.buttons&&0!=i.button)return;this.elem.focus(),this.drag=1,this.showtip(0);var n=function(t){return t.preventDefault(),t.stopPropagation(),!1},o=function t(i){e.drag=0,e.showtip(0),window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",s,{passive:!1}),"kick"==e.type&&(e.value=0,e.checked=!1,e.redraw(),e.sendEvent("change")),e.sendEvent("click"),i.preventDefault(),i.stopPropagation()},s=function(t){t.preventDefault()};switch(this.type){case"kick":this.setValue(1),this.sendEvent("change");break;case"toggle":i.ctrlKey||i.metaKey?this.value=defvalue:this.value=1-this.value,this.checked=!!this.value,this.sendEvent("change");break;case"radio":for(var a=document.querySelectorAll("webaudio-switch[type='radio'][group='"+this.group+"']"),r=0;r<a.length;++r)a[r]==this?a[r].setValue(1):a[r].setValue(0);this.sendEvent("change");break}return window.addEventListener("mouseup",o),window.addEventListener("touchend",o),window.addEventListener("touchcancel",o),document.body.addEventListener("touchstart",s,{passive:!1}),this.redraw(),t.preventDefault(),t.stopPropagation(),!1}}}]),i}(WebAudioControlsWidget))}catch(error){console.log("webaudio-switch already defined")}try{customElements.define("webaudio-param",function(_WebAudioControlsWidg3){"use strict";_inherits(WebAudioParam,_WebAudioControlsWidg3);var _super4=_createSuper(WebAudioParam);function WebAudioParam(){var t;return _classCallCheck(this,WebAudioParam),t=_super4.call(this),t.addEventListener("keydown",t.keydown),t.addEventListener("mousedown",t.pointerdown,{passive:!1}),t.addEventListener("touchstart",t.pointerdown,{passive:!1}),t.addEventListener("wheel",t.wheel),t.addEventListener("mouseover",t.pointerover),t.addEventListener("mouseout",t.pointerout),t.addEventListener("contextmenu",t.contextMenu),t}return _createClass(WebAudioParam,[{key:"connectedCallback",value:function connectedCallback(){var _this9=this,root;if(root=this.attachShadow?this.attachShadow({mode:"open"}):this,root.innerHTML="<style>\n  ".concat(this.basestyle,"\n  :host{\n    display:inline-block;\n    user-select:none;\n    margin:0;\n    padding:0;\n    font-family: sans-serif;\n    font-size: 8px;\n    cursor:pointer;\n    position:relative;\n    vertical-align:baseline;\n  }\n  .webaudio-param-body{\n    display:inline-block;\n    position:relative;\n    text-align:center;\n    background:none;\n    margin:0;\n    padding:0;\n    font-family:sans-serif;\n    font-size:11px;\n    vertical-align:bottom;\n    border:none;\n  }\n  </style>\n  <input class='webaudio-param-body' value='0' tabindex='1' touch-action='none'/><div class='webaudioctrl-tooltip'></div>\n  "),this.elem=root.childNodes[2],this.ttframe=root.childNodes[3],this.enable=this.getAttr("enable",1),this._value=this.getAttr("value",0),Object.defineProperty(this,"value",{get:function(){return _this9._value},set:function(t){_this9._value=t,_this9.redraw()}}),this.defvalue=this.getAttr("defvalue",0),this._fontsize=this.getAttr("fontsize",9),Object.defineProperty(this,"fontsize",{get:function(){return _this9._fontsize},set:function(t){_this9._fontsize=t,_this9.setupImage()}}),this._src=this.getAttr("src",opt.paramSrc),Object.defineProperty(this,"src",{get:function(){return _this9._src},set:function(t){_this9._src=t,_this9.setupImage()}}),this.link=this.getAttr("link",""),this._width=this.getAttr("width",opt.paramWidth),Object.defineProperty(this,"width",{get:function(){return _this9._width},set:function(t){_this9._width=t,_this9.setupImage()}}),this._height=this.getAttr("height",opt.paramHeight),Object.defineProperty(this,"height",{get:function(){return _this9._height},set:function(t){_this9._height=t,_this9.setupImage()}}),this._colors=this.getAttr("colors",opt.paramColors),Object.defineProperty(this,"colors",{get:function(){return _this9._colors},set:function(t){_this9._colors=t,_this9.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.rconv=this.getAttr("rconv",null),this.midiController={},this.midiMode="normal",this.currentLink=null,this.midicc){var ch=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,cc=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(ch,cc)}this.setupImage(),window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this),this.fromLink=function(t){_this9.setValue(t.target.convValue.toFixed(t.target.digits))}.bind(this),this.elem.onchange=function(){if(!_this9.currentLink.target.conv||_this9.currentLink.target.conv&&_this9.rconv){var val=_this9.value=_this9.elem.value;if(_this9.rconv){var x=+_this9.elem.value;val=eval(_this9.rconv)}_this9.currentLink&&_this9.currentLink.target.setValue(val,!0)}}}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){var t=this;this.imgloaded=function(){""!=t.src&&null!=t.src?(t.elem.style.backgroundImage="url("+t.src+")",t.elem.style.backgroundSize="100% 100%",null==t._width&&(t._width=t.img.width),null==t._height&&(t._height=t.img.height)):(null==t._width&&(t._width=32),null==t._height&&(t._height=20)),t.elem.style.width=t._width+"px",t.elem.style.height=t._height+"px",t.elem.style.fontSize=t.fontsize+"px";var e=document.getElementById(t.link);e&&"undefined"!=typeof e.value&&("number"==typeof e.convValue?t.setValue(e.convValue.toFixed(e.digits)):t.setValue(e.convValue),t.currentLink&&t.currentLink.removeEventListener("input",t.currentLink.func),t.currentLink={target:e,func:function(i){"number"==typeof e.convValue?t.setValue(e.convValue.toFixed(e.digits)):t.setValue(e.convValue)}},t.currentLink.target.addEventListener("input",t.currentLink.func)),t.redraw()},this.coltab=this.colors.split(";"),this.elem.style.color=this.coltab[0],this.img=new Image,this.img.onload=this.imgloaded.bind(),null==this.src?(this.elem.style.backgroundColor=this.coltab[1],this.imgloaded()):""==this.src?(this.elem.style.background="none",this.imgloaded()):this.img.src=this.src}},{key:"redraw",value:function(){this.elem.value=this.value}},{key:"setValue",value:function(t,e){if(this.value=t,this.value!=this.oldvalue){if(this.redraw(),this.showtip(0),e){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),this.dispatchEvent(i)}this.oldvalue=this.value}}},{key:"pointerdown",value:function(t){if(this.enable){var e=t;if(t.touches)e=t.touches[0];else if(1!=e.buttons&&0!=e.button)return;this.elem.focus(),this.redraw()}}}]),WebAudioParam}(WebAudioControlsWidget))}catch(error){console.log("webaudio-param already defined")}try{customElements.define("webaudio-keyboard",function(t){"use strict";_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.call(this)}return _createClass(i,[{key:"connectedCallback",value:function(){var t,e=this;if(t=this.attachShadow?this.attachShadow({mode:"open"}):this,t.innerHTML="<style>\n  ".concat(this.basestyle,"\n  :host{\n    display:inline-block;\n    position:relative;\n    margin:0;\n    padding:0;\n    font-family: sans-serif;\n    font-size: 11px;\n  }\n  .webaudio-keyboard-body{\n    display:inline-block;\n    margin:0;\n    padding:0;\n    vertical-align:bottom;\n  }\n  </style>\n  <canvas class='webaudio-keyboard-body' tabindex='1' touch-action='none'></canvas><div class='webauioctrl-tooltip'></div>\n  "),this.elem=this.cv=t.childNodes[2],this.ttframe=t.childNodes[3],this.ctx=this.cv.getContext("2d"),this._values=[],this.enable=this.getAttr("enable",1),this._width=this.getAttr("width",480),Object.defineProperty(this,"width",{get:function(){return e._width},set:function(t){e._width=t,e.setupImage()}}),this._height=this.getAttr("height",128),Object.defineProperty(this,"height",{get:function(){return e._height},set:function(t){e._height=t,e.setupImage()}}),this._min=this.getAttr("min",0),Object.defineProperty(this,"min",{get:function(){return e._min},set:function(t){e._min=+t,e.redraw()}}),this._keys=this.getAttr("keys",25),Object.defineProperty(this,"keys",{get:function(){return e._keys},set:function(t){e._keys=+t,e.setupImage()}}),this._colors=this.getAttr("colors","#222;#eee;#ccc;#333;#000;#e88;#c44;#c33;#800"),Object.defineProperty(this,"colors",{get:function(){return e._colors},set:function(t){e._colors=t,e.setupImage()}}),this.outline=this.getAttr("outline",opt.outline),this.midilearn=this.getAttr("midilearn",0),this.midicc=this.getAttr("midicc",null),this.press=0,this.keycodes1=[90,83,88,68,67,86,71,66,72,78,74,77,188,76,190,187,191,226],this.keycodes2=[81,50,87,51,69,82,53,84,54,89,55,85,73,57,79,48,80,192,222,219],this.addEventListener("keyup",this.keyup),this.midiController={},this.midiMode="normal",this.midicc){var i=parseInt(this.midicc.substring(0,this.midicc.lastIndexOf(".")))-1,n=parseInt(this.midicc.substring(this.midicc.lastIndexOf(".")+1));this.setMidiController(i,n)}if(this.setupImage(),this.digits=0,this.step&&this.step<1)for(var o=this.step;o<1;o*=10)++this.digits;window.webAudioControlsWidgetManager&&window.webAudioControlsWidgetManager.addWidget(this)}},{key:"disconnectedCallback",value:function(){}},{key:"setupImage",value:function(){this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.bheight=.55*this.height,this.kp=[0,7/12,1,1.75,2,3,3.5,4,56/12,5,70/12,6],this.kf=[0,1,0,1,0,0,1,0,1,0,1,0],this.ko=[0,0,14/12-1,0,28/12-2,35/12-3,0,49/12-4,0,.25,0,77/12-6],this.kn=[0,2,4,5,7,9,11],this.coltab=this.colors.split(";"),this.cv.width=this.width,this.cv.height=this.height,this.cv.style.width=this.width+"px",this.cv.style.height=this.height+"px",this.style.height=this.height+"px",this.cv.style.outline=this.outline?"":"none",this.bheight=.55*this.height,this.max=this.min+this.keys-1,this.dispvalues=[],this.valuesold=[],this.kf[this.min%12]&&--this.min,this.kf[this.max%12]&&++this.max,this.redraw()}},{key:"redraw",value:function(){function t(t,e,i,n,o,s,a,r){if(r){var l=t.createLinearGradient(e,i,e+n,i);l.addColorStop(0,a),l.addColorStop(1,r),t.fillStyle=l}else t.fillStyle=a;t.beginPath(),t.moveTo(e,i),t.lineTo(e+n,i),t.lineTo(e+n,i+o-s),t.quadraticCurveTo(e+n,i+o,e+n-s,i+o),t.lineTo(e+s,i+o),t.quadraticCurveTo(e,i+o,e,i+o-s),t.lineTo(e,i),t.fill()}this.ctx.fillStyle=this.coltab[0],this.ctx.fillRect(0,0,this.width,this.height);var e=7*(this.min/12|0)+this.kp[this.min%12],i=7*(this.max/12|0)+this.kp[this.max%12],n=i-e;this.wwidth=(this.width-1)/(n+1),this.bwidth=7*this.wwidth/12;for(var o=this.bheight,s=Math.min(8,.2*this.wwidth),a=this.min,r=0;a<=this.max;++a)if(0==this.kf[a%12]){var l=this.wwidth*r+++1;this.dispvalues.indexOf(a)>=0?t(this.ctx,l,1,this.wwidth-1,this.height-2,s,this.coltab[5],this.coltab[6]):t(this.ctx,l,1,this.wwidth-1,this.height-2,s,this.coltab[1],this.coltab[2])}s=Math.min(8,.3*this.bwidth);for(var c=this.min;c<this.max;++c)if(this.kf[c%12]){var u=this.wwidth*this.ko[this.min%12]+this.bwidth*(c-this.min)+1;this.dispvalues.indexOf(c)>=0?t(this.ctx,u,1,this.bwidth,o,s,this.coltab[7],this.coltab[8]):t(this.ctx,u,1,this.bwidth,o,s,this.coltab[3],this.coltab[4]),this.ctx.strokeStyle=this.coltab[0],this.ctx.stroke()}}},{key:"_setValue",value:function(t){return this.step&&(t=Math.round((t-this.min)/this.step)*this.step+this.min),this._value=Math.min(this.max,Math.max(this.min,t)),this._value!=this.oldvalue?(this.oldvalue=this._value,this.redraw(),this.showtip(0),1):0}},{key:"setValue",value:function(t,e){this._setValue(t)&&e&&(this.sendEvent("input"),this.sendEvent("change"))}},{key:"wheel",value:function(t){}},{key:"keydown",value:function(t){var e=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(t.keyCode);i<0&&(i=this.keycodes2.indexOf(t.keyCode),i>=0&&(i+=12)),i>=0&&(i+=e,this.currentKey!=i&&(this.currentKey=i,this.sendEventFromKey(1,i),this.setNote(1,i)))}},{key:"keyup",value:function(t){var e=12*Math.floor((this.min+11)/12),i=this.keycodes1.indexOf(t.keyCode);i<0&&(i=this.keycodes2.indexOf(t.keyCode),i>=0&&(i+=12)),i>=0&&(i+=e,this.currentKey=-1,this.sendEventFromKey(0,i),this.setNote(0,i))}},{key:"pointerdown",value:function(t){var e=this;this.cv.focus(),this.enable&&++this.press;var i=function(t){if(e.enable){var i,n=e.getBoundingClientRect(),o=[];i=t.touches?t.targetTouches:e.press?[t]:[],i.length>0&&(e.drag=1);for(var s=0;s<i.length;++s){var a=i[s].clientX-n.left,r=i[s].clientY-n.top,l=void 0,c=void 0,u=void 0;r>=0&&r<e.height&&(r<e.bheight?(l=a-e.wwidth*e.ko[e.min%12],c=e.min+(l/e.bwidth|0)):(c=a/e.wwidth|0,u=e.kp[e.min%12],c+=u,c=e.min+12*(c/7|0)+e.kn[c%7]-e.kn[u%7]),c>=e.min&&c<=e.max&&o.push(c))}o.sort(),e.values=o,e.sendevent(),e.redraw()}},n=function t(n){e.enable&&(n.touches?e.press=n.touches.length:e.press=0,i(n),e.sendevent(),0==e.press&&(window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),document.body.removeEventListener("touchstart",o,{passive:!1})),e.redraw()),e.drag=0,n.preventDefault()},o=function(t){t.preventDefault()};window.addEventListener("mousemove",i),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n),document.body.addEventListener("touchstart",o,{passive:!1}),i(t),t.preventDefault(),t.stopPropagation()}},{key:"sendEventFromKey",value:function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0),i.note=[t,e],this.dispatchEvent(i)}},{key:"sendevent",value:function(){for(var t=[],e=0,i=this.valuesold.length;e<i;++e)this.values.indexOf(this.valuesold[e])<0&&t.push([0,this.valuesold[e]]);for(var n=0,o=this.values.length;n<o;++n)this.valuesold.indexOf(this.values[n])<0&&t.push([1,this.values[n]]);if(t.length){this.valuesold=this.values;for(var s=0;s<t.length;++s){this.setdispvalues(t[s][0],t[s][1]);var a=document.createEvent("HTMLEvents");a.initEvent("change",!0,!0),a.note=t[s],this.dispatchEvent(a)}}}},{key:"setdispvalues",value:function(t,e){var i=this.dispvalues.indexOf(e);t?i<0&&this.dispvalues.push(e):i>=0&&this.dispvalues.splice(i,1)}},{key:"setNote",value:function(t,e,i,n){var o=this,s=i&&n-i.currentTime;s>0?setTimeout((function(){o.setNote(t,e)}),1e3*s):(this.setdispvalues(t,e),this.redraw())}}]),i}(WebAudioControlsWidget))}catch(error){console.log("webaudio-keyboard already defined")}var WebAudioControlsWidgetManager=function(){"use strict";function t(){_classCallCheck(this,t),this.midiAccess=null,this.listOfWidgets=[],this.listOfExternalMidiListeners=[],this.updateWidgets(),opt.preserveMidiLearn?this.midiLearnTable=JSON.parse(localStorage.getItem("WebAudioControlsMidiLearn")):this.midiLearnTable=null,this.initWebAudioControls()}return _createClass(t,[{key:"addWidget",value:function(t){this.listOfWidgets.push(t)}},{key:"updateWidgets",value:function(){}},{key:"initWebAudioControls",value:function(){var t=this;navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((function(e){t.midiAccess=e,t.enableInputs()}),(function(t){console.log("MIDI not initialized - error encountered:"+t.code)}))}},{key:"enableInputs",value:function(){var t=this.midiAccess.inputs.values();console.log("Found "+this.midiAccess.inputs.size+" MIDI input(s)");for(var e=t.next();e&&!e.done;e=t.next())console.log("Connected input: "+e.value.name),e.value.onmidimessage=this.handleMIDIMessage.bind(this)}},{key:"midiConnectionStateChange",value:function(t){console.log("connection: "+t.port.name+" "+t.port.connection+" "+t.port.state),enableInputs()}},{key:"onMIDIStarted",value:function(t){this.midiAccess=t,t.onstatechange=this.midiConnectionStateChange,enableInputs(t)}},{key:"addMidiListener",value:function(t){this.listOfExternalMidiListeners.push(t)}},{key:"getCurrentConfigAsJSON",value:function(){return currentConfig.stringify()}},{key:"handleMIDIMessage",value:function(t){if(this.listOfExternalMidiListeners.forEach((function(e){e(t)})),!(240==(240&t.data[0])||176==(240&t.data[0])&&t.data[1]>=120)){var e,i=_createForOfIteratorHelper(this.listOfWidgets);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.processMidiEvent&&n.processMidiEvent(t)}}catch(o){i.e(o)}finally{i.f()}opt.mididump&&console.log(t.data)}}},{key:"contextMenuOpen",value:function(t,e){if(this.midiAccess){var i=document.getElementById("webaudioctrl-context-menu");i.style.left=t.pageX+"px",i.style.top=t.pageY+"px",i.knob=e,i.classList.add("active"),i.knob.focus(),i.knob.addEventListener("keydown",this.contextMenuCloseByKey.bind(this))}}},{key:"contextMenuCloseByKey",value:function(t){27==t.keyCode&&this.contextMenuClose()}},{key:"contextMenuClose",value:function(){var t=document.getElementById("webaudioctrl-context-menu");t.knob.removeEventListener("keydown",this.contextMenuCloseByKey),t.classList.remove("active");var e=document.getElementById("webaudioctrl-context-menu-learn");e.innerHTML="Learn",t.knob.midiMode="normal"}},{key:"contextMenuLearn",value:function(){var t=document.getElementById("webaudioctrl-context-menu"),e=document.getElementById("webaudioctrl-context-menu-learn");e.innerHTML="Listening...",t.knob.midiMode="learn"}},{key:"contextMenuClear",value:function(t){var e=document.getElementById("webaudioctrl-context-menu");e.knob.midiController={},this.contextMenuClose()}},{key:"preserveMidiLearn",value:function(){if(opt.preserveMidiLearn){var t,e=[],i=_createForOfIteratorHelper(this.listOfWidgets);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.id&&e.push({id:n.id,cc:n.midiController})}}catch(s){i.e(s)}finally{i.f()}var o=JSON.stringify(e);localStorage.setItem("WebAudioControlsMidiLearn",o)}}}]),t}();(window.UseWebAudioControlsMidi||opt.useMidi)&&(window.webAudioControlsWidgetManager=window.webAudioControlsMidiManager=new WebAudioControlsWidgetManager)}},fb50:function(t,e,i){t.exports=i.p+"img/Pedal.02c979b9.png"},fe10:function(t,e,i){t.exports=i.p+"img/boss-bottom-bg.d36a6847.png"}});
//# sourceMappingURL=app.7cf89498.js.map